(function(e){function t(t){for(var n,i,c=t[0],o=t[1],l=t[2],d=0,v=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&v.push(s[i][0]),s[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(v.length)v.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"008b":function(e,t,a){e.exports=a.p+"img/freeze-purple.aa19bc11.svg"},"050f":function(e,t,a){e.exports=a.p+"img/bronze.75ea7d2b.svg"},"0713":function(e,t,a){e.exports=a.p+"img/chalice-red.418f691f.svg"},"0bab":function(e,t,a){e.exports=a.p+"img/hatchet-bronze.0e31eefd.svg"},"0d68":function(e,t,a){e.exports=a.p+"img/sword-gold.0e63caca.svg"},"0f63":function(e,t,a){e.exports=a.p+"img/chalice-purple.7e9b369e.svg"},"11b3":function(e,t,a){e.exports=a.p+"img/strike-red.853f83c0.svg"},"128e":function(e,t,a){e.exports=a.p+"img/goblin.04772788.svg"},"160d":function(e,t,a){e.exports=a.p+"img/hourglass-yellow.bbce69e8.svg"},1771:function(e,t,a){var n={"./card-random.svg":"7d77","./cards/asclepius.svg":"23ec","./cards/bread.svg":"8426","./cards/chalice-purple.svg":"0f63","./cards/chalice-red.svg":"0713","./cards/chalice-yellow.svg":"c33d","./cards/chicken.svg":"dcc5","./cards/cow.svg":"aabc","./cards/damage-purple.svg":"c2bd","./cards/damage-red.svg":"1d84","./cards/damage-yellow.svg":"8437","./cards/default.svg":"f23d","./cards/discard-hand.svg":"6eed","./cards/dragon.svg":"7d5b","./cards/draw-card.svg":"6bc4","./cards/farmer.svg":"2f68","./cards/forest-fire.svg":"207c","./cards/forest.svg":"71c0","./cards/freeze-blue.svg":"6e85","./cards/freeze-purple.svg":"008b","./cards/goblin.svg":"128e","./cards/grain.svg":"6508","./cards/hatchet-bronze.svg":"0bab","./cards/hatchet-gold.svg":"2216","./cards/hatchet-silver.svg":"de9a","./cards/hatchet-stone.svg":"5390","./cards/hourglass-purple.svg":"2651","./cards/hourglass-red.svg":"7f2f","./cards/hourglass-yellow.svg":"160d","./cards/land-mine.svg":"65e1","./cards/log.svg":"9cb0","./cards/magic-touch.svg":"5a8a","./cards/ore-bronze.svg":"56d2","./cards/ore-gold.svg":"950c","./cards/ore-silver.svg":"a1e3","./cards/pickaxe-bronze.svg":"8e27","./cards/pickaxe-gold.svg":"a164","./cards/pickaxe-silver.svg":"59b6","./cards/pickaxe-stone.svg":"59b5","./cards/pig.svg":"2d1e","./cards/rat.svg":"24a4","./cards/sacrifice-hand.svg":"9cc9","./cards/scythe-bronze.svg":"1be8","./cards/scythe-gold.svg":"feae","./cards/scythe-silver.svg":"370c","./cards/scythe-stone.svg":"3dc5","./cards/shield-cracked.svg":"ce81","./cards/shield-viking.svg":"254a","./cards/skeleton-king.svg":"6b48","./cards/skeleton.svg":"cb5a","./cards/spider-large.svg":"446f","./cards/spider-small.svg":"fa78","./cards/straw.svg":"7e84","./cards/strike-purple.svg":"bcef","./cards/strike-red.svg":"11b3","./cards/strike-yellow.svg":"d167","./cards/sword-bronze.svg":"4d2a","./cards/sword-gold.svg":"0d68","./cards/sword-silver.svg":"9879","./cards/sword.svg":"e7a0","./cards/tree.svg":"6f7d","./cards/troll.svg":"8f9a","./coins.svg":"fe61","./logo.png":"cf05","./orbs/bronze.svg":"050f","./orbs/clock.svg":"e947","./orbs/gold.svg":"70c0","./orbs/grain.svg":"1ed1","./orbs/heart.svg":"d5ac","./orbs/ice.svg":"45e6","./orbs/silver.svg":"ad29","./orbs/souls.svg":"d0d2","./orbs/sword.svg":"9021","./orbs/wood.svg":"5123"};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="1771"},"1be8":function(e,t,a){e.exports=a.p+"img/scythe-bronze.4a4ae7ab.svg"},"1d84":function(e,t,a){e.exports=a.p+"img/damage-red.9d34ffa3.svg"},"1ed1":function(e,t,a){e.exports=a.p+"img/grain.8a23a188.svg"},2043:function(e,t,a){"use strict";a("9c5f")},"207c":function(e,t,a){e.exports=a.p+"img/forest-fire.9d01f028.svg"},2216:function(e,t,a){e.exports=a.p+"img/hatchet-gold.dfae9be7.svg"},"23ec":function(e,t,a){e.exports=a.p+"img/asclepius.9d70ae39.svg"},"24a4":function(e,t,a){e.exports=a.p+"img/rat.b01d4d3e.svg"},"254a":function(e,t,a){e.exports=a.p+"img/shield-viking.ee4f6a8d.svg"},2651:function(e,t,a){e.exports=a.p+"img/hourglass-purple.3541530d.svg"},"2d1e":function(e,t,a){e.exports=a.p+"img/pig.8b71ce95.svg"},"2f68":function(e,t,a){e.exports=a.p+"img/farmer.9c0694cf.svg"},"370c":function(e,t,a){e.exports=a.p+"img/scythe-silver.e4fb6dad.svg"},"3dc5":function(e,t,a){e.exports=a.p+"img/scythe-stone.c8ed2100.svg"},"446f":function(e,t,a){e.exports=a.p+"img/spider-large.e3b7ff26.svg"},"45a2":function(e,t,a){},"45e6":function(e,t,a){e.exports=a.p+"img/ice.800aabc1.svg"},"4d2a":function(e,t,a){e.exports=a.p+"img/sword-bronze.5f1c62a3.svg"},5123:function(e,t,a){e.exports=a.p+"img/wood.8bb65a20.svg"},5390:function(e,t,a){e.exports=a.p+"img/hatchet-stone.788b2a27.svg"},"56d2":function(e,t,a){e.exports=a.p+"img/ore-bronze.5ae79e4b.svg"},"59b5":function(e,t,a){e.exports=a.p+"img/pickaxe-stone.d0f18f7c.svg"},"59b6":function(e,t,a){e.exports=a.p+"img/pickaxe-silver.d2f9bab8.svg"},"5a8a":function(e,t,a){e.exports=a.p+"img/magic-touch.3cfe11f0.svg"},"5a8f":function(e,t,a){var n={"./hatchet-bronze.svg":"0bab","./hatchet-gold.svg":"2216","./hatchet-silver.svg":"de9a","./hatchet-stone.svg":"5390"};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="5a8f"},6204:function(e,t,a){"use strict";a("cf15")},6508:function(e,t,a){e.exports=a.p+"img/grain.05eff511.svg"},"65e1":function(e,t,a){e.exports=a.p+"img/land-mine.ba642c5a.svg"},6863:function(e,t,a){var n={"./asclepius.svg":"23ec","./bread.svg":"8426","./chalice-purple.svg":"0f63","./chalice-red.svg":"0713","./chalice-yellow.svg":"c33d","./chicken.svg":"dcc5","./cow.svg":"aabc","./damage-purple.svg":"c2bd","./damage-red.svg":"1d84","./damage-yellow.svg":"8437","./default.svg":"f23d","./discard-hand.svg":"6eed","./dragon.svg":"7d5b","./draw-card.svg":"6bc4","./farmer.svg":"2f68","./forest-fire.svg":"207c","./forest.svg":"71c0","./freeze-blue.svg":"6e85","./freeze-purple.svg":"008b","./goblin.svg":"128e","./grain.svg":"6508","./hatchet-bronze.svg":"0bab","./hatchet-gold.svg":"2216","./hatchet-silver.svg":"de9a","./hatchet-stone.svg":"5390","./hourglass-purple.svg":"2651","./hourglass-red.svg":"7f2f","./hourglass-yellow.svg":"160d","./land-mine.svg":"65e1","./log.svg":"9cb0","./magic-touch.svg":"5a8a","./ore-bronze.svg":"56d2","./ore-gold.svg":"950c","./ore-silver.svg":"a1e3","./pickaxe-bronze.svg":"8e27","./pickaxe-gold.svg":"a164","./pickaxe-silver.svg":"59b6","./pickaxe-stone.svg":"59b5","./pig.svg":"2d1e","./rat.svg":"24a4","./sacrifice-hand.svg":"9cc9","./scythe-bronze.svg":"1be8","./scythe-gold.svg":"feae","./scythe-silver.svg":"370c","./scythe-stone.svg":"3dc5","./shield-cracked.svg":"ce81","./shield-viking.svg":"254a","./skeleton-king.svg":"6b48","./skeleton.svg":"cb5a","./spider-large.svg":"446f","./spider-small.svg":"fa78","./straw.svg":"7e84","./strike-purple.svg":"bcef","./strike-red.svg":"11b3","./strike-yellow.svg":"d167","./sword-bronze.svg":"4d2a","./sword-gold.svg":"0d68","./sword-silver.svg":"9879","./sword.svg":"e7a0","./tree.svg":"6f7d","./troll.svg":"8f9a"};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="6863"},"6b48":function(e,t,a){e.exports=a.p+"img/skeleton-king.1d9580bc.svg"},"6bc4":function(e,t,a){e.exports=a.p+"img/draw-card.fb1ebdc4.svg"},"6e85":function(e,t,a){e.exports=a.p+"img/freeze-blue.0ac580a5.svg"},"6eed":function(e,t,a){e.exports=a.p+"img/discard-hand.cd1bea63.svg"},"6f7d":function(e,t,a){e.exports=a.p+"img/tree.9676b0e0.svg"},"70c0":function(e,t,a){e.exports=a.p+"img/gold.0255c7f6.svg"},"71c0":function(e,t,a){e.exports=a.p+"img/forest.82e68667.svg"},"79ed":function(e,t,a){var n={"./scythe-bronze.svg":"1be8","./scythe-gold.svg":"feae","./scythe-silver.svg":"370c","./scythe-stone.svg":"3dc5"};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="79ed"},"7d5b":function(e,t,a){e.exports=a.p+"img/dragon.8e5991f1.svg"},"7d77":function(e,t,a){e.exports=a.p+"img/card-random.ae703437.svg"},"7e84":function(e,t,a){e.exports=a.p+"img/straw.5aef2f85.svg"},"7f2f":function(e,t,a){e.exports=a.p+"img/hourglass-red.e260fa47.svg"},8426:function(e,t,a){e.exports=a.p+"img/bread.d3ca998c.svg"},8437:function(e,t,a){e.exports=a.p+"img/damage-yellow.25bf58d0.svg"},"8e27":function(e,t,a){e.exports=a.p+"img/pickaxe-bronze.4af047fa.svg"},"8f9a":function(e,t,a){e.exports=a.p+"img/troll.a910efcb.svg"},9021:function(e,t,a){e.exports=a.p+"img/sword.84fb8e90.svg"},"950c":function(e,t,a){e.exports=a.p+"img/ore-gold.e67dd5f7.svg"},9879:function(e,t,a){e.exports=a.p+"img/sword-silver.34623b0a.svg"},"9c5f":function(e,t,a){},"9c75":function(e,t,a){"use strict";a("b1db")},"9cb0":function(e,t,a){e.exports=a.p+"img/log.7f14c8b6.svg"},"9cc9":function(e,t,a){e.exports=a.p+"img/sacrifice-hand.3d284f9c.svg"},a164:function(e,t,a){e.exports=a.p+"img/pickaxe-gold.5401ba1c.svg"},a1e3:function(e,t,a){e.exports=a.p+"img/ore-silver.a81376a0.svg"},a766:function(e,t,a){},aabc:function(e,t,a){e.exports=a.p+"img/cow.ea92a2cd.svg"},ad29:function(e,t,a){e.exports=a.p+"img/silver.1d962be5.svg"},b165:function(e,t,a){var n={"./bronze.svg":"050f","./clock.svg":"e947","./gold.svg":"70c0","./grain.svg":"1ed1","./heart.svg":"d5ac","./ice.svg":"45e6","./silver.svg":"ad29","./souls.svg":"d0d2","./sword.svg":"9021","./wood.svg":"5123"};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="b165"},b1db:function(e,t,a){},b2ba:function(e,t,a){},bcef:function(e,t,a){e.exports=a.p+"img/strike-purple.a59d58d6.svg"},c2bd:function(e,t,a){e.exports=a.p+"img/damage-purple.dc6c9ed8.svg"},c33d:function(e,t,a){e.exports=a.p+"img/chalice-yellow.7993550c.svg"},cb5a:function(e,t,a){e.exports=a.p+"img/skeleton.a4c6e423.svg"},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,s=a("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("igt-notifications"),e.showModal?n("igt-modal",{attrs:{cards:e.gainedCards},on:{close:function(t){e.showModal=!1}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("p",{staticClass:"text-2xl font-semibold text-white"},[e._v("Success!")])])]):e._e(),e.showLoseModal?n("cq-lose-modal",{on:{close:function(t){e.showLoseModal=!1}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("p",{staticClass:"text-2xl font-semibold text-white"},[e._v("Failure!")])])]):e._e(),n("igt-tabs",{attrs:{"header-class":"bg-cq-slate"}},[n("igt-tab",{attrs:{name:"Card Collection",selected:!0}},[n("cq-card-collection")],1),n("igt-tab",{attrs:{name:"Adventure",id:"adventure-tab-button"}},[e.game.features.adventure.isActive?n("cq-adventure"):n("cq-level-selection",{attrs:{levels:e.allLevels}})],1),n("igt-tab",{attrs:{name:"Automation"}},[n("cq-automation",{attrs:{automation:e.game.features.automation}})],1),n("igt-tab",{attrs:{name:"Achievements"}},[n("igt-achievements",{attrs:{"achievements-feature":e.game.features.achievements}})],1),n("igt-tab",{attrs:{name:"Level Editor"}},[n("cq-level-editor",{attrs:{editor:e.game.features.editor}})],1),n("igt-tab",{attrs:{name:"Settings"}},[n("igt-settings",{attrs:{settings:e.game.features.settings}})],1),n("igt-tab",{attrs:{name:"How to play"}},[n("cq-how-to-play")],1),n("igt-tab",{attrs:{name:"Credits"}},[n("cq-credits")],1),n("li",{staticClass:"ml-8",attrs:{slot:"other"},slot:"other"},[n("div",{staticClass:"flex flex-row items-center",attrs:{title:"You have "+e.game.features.wallet.money+" coins"}},[n("p",{staticClass:"text-lg text-white p-2"},[e._v(e._s(e._f("numberFormat")(e.game.features.wallet.money))+" ")]),n("img",{staticClass:"h-8 w-8",attrs:{src:a("fe61"),alt:"coins.svg"}})])])],1)],1)},i=[],c=a("d4ec"),o=a("bee2"),l=(a("07ac"),a("b85c"));(function(e){e["Launching"]="Launching",e["Playing"]="Playing",e["Paused"]="Paused",e["Stopped"]="Stopped"})(n||(n={}));var u,d=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,null,[{key:"store",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"get",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"delete",value:function(e){localStorage.removeItem(e)}}]),e}();(function(e){e["Money"]="Money",e["Souls"]="Souls",e["Wood"]="Wood",e["Grain"]="Grain",e["Bronze"]="Bronze",e["Silver"]="Silver",e["Gold"]="Gold"})(u||(u={}));var v,h=function e(t){Object(c["a"])(this,e),this.tabs=t},f=function(){function e(t,a){Object(c["a"])(this,e),this.label=t,this.children=a}return Object(o["a"])(e,[{key:"isEmpty",value:function(){return 0==this.children.length}}]),e}(),g=a("262e"),p=a("2caf"),m=function(){function e(t,a){Object(c["a"])(this,e),this.propertyName=t,this.label=a,this.cssClass="btn-green"}return Object(o["a"])(e,[{key:"displayLabel",get:function(){var e;return null!==(e=this.label)&&void 0!==e?e:this.propertyName}},{key:"value",get:function(){return void 0==this.object?(console.warn("Cannot get warning as object is undefined for AbstractField ".concat(this.propertyName)),""):this.object[this.propertyName]},set:function(e){this.object[this.propertyName]=e}},{key:"setObject",value:function(e){return this.object=e,this}},{key:"setCssClass",value:function(e){return this.cssClass=e,this}},{key:"setComponentName",value:function(e){return this.componentName=e,this}}]),e}(),y=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n){var s;return Object(c["a"])(this,a),s=t.call(this,"",n),s.func=e,s.setComponentName("igt-button-field"),s}return a}(m),b=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n){var s;return Object(c["a"])(this,a),s=t.call(this,e,n),s.setComponentName("igt-display-field"),s}return a}(m),w=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s){var r;return Object(c["a"])(this,a),r=t.call(this,e,s),r.options=n,r.setComponentName("igt-choice-field"),r}return a}(m),k=(a("cb29"),a("c975"),a("a434"),a("d3b7"),a("25f0"),function(){function e(t){Object(c["a"])(this,e),this.saveKey=t}return Object(o["a"])(e,[{key:"getDeveloperPanelFields",value:function(){return[]}},{key:"initialize",value:function(e){}},{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"canAccess",value:function(){return!1}},{key:"getTotalCurrencyMultiplier",value:function(e){return 1}},{key:"update",value:function(e){}}]),e}()),C=(a("caad"),a("2532"),a("d782")),x=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n){var s;return Object(c["a"])(this,a),s=t.call(this,e,n),s.setComponentName("igt-number-field"),s}return a}(m),S=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4?arguments[4]:void 0;return Object(c["a"])(this,a),n=t.call(this,e,o),n.min=s,n.max=r,n.step=i,n.setComponentName("igt-range-field"),n}return a}(m),_=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e){var n;Object(c["a"])(this,a),n=t.call(this,"wallet"),n._currencies={},n._multipliers={},n._onCurrencyGain=new C["SimpleEventDispatcher"],n._supportedCurrencies=e;var s,r=Object(l["a"])(n._supportedCurrencies);try{for(r.s();!(s=r.n()).done;){var i=s.value;n._currencies[i]=0,n._multipliers[i]=1}}catch(o){r.e(o)}finally{r.f()}return n}return Object(o["a"])(a,[{key:"resetTemporaryCurrencies",value:function(){this._currencies[u.Wood]=0,this._currencies[u.Grain]=0,this._currencies[u.Souls]=0,this._currencies[u.Bronze]=0,this._currencies[u.Silver]=0,this._currencies[u.Gold]=0}},{key:"getAmount",value:function(e){return this.supportsCurrencyType(e)?this._currencies[e]:0}},{key:"gainCurrency",value:function(e){e.multiply(this.getCurrencyMultiplier(e.type)),e.isValid()&&this.supportsCurrencyType(e.type)?(this._onCurrencyGain.dispatch(e),this._currencies[e.type]+=e.amount):console.warn("Could not add currency ".concat(e.toString()))}},{key:"hasCurrency",value:function(e){return!!this.supportsCurrencyType(e.type)&&this._currencies[e.type]>=e.amount}},{key:"hasCurrencies",value:function(e){var t,a=Object(l["a"])(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(!this.hasCurrency(n))return!1}}catch(s){a.e(s)}finally{a.f()}return!0}},{key:"loseCurrency",value:function(e){e.isValid()&&this.supportsCurrencyType(e.type)?this._currencies[e.type]-=e.amount:console.warn("Could not lose currency ".concat(e.toString()))}},{key:"loseMultipleCurrencies",value:function(e){var t,a=Object(l["a"])(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;this.loseCurrency(n)}}catch(s){a.e(s)}finally{a.f()}}},{key:"payMultipleIfPossible",value:function(e){return!!this.hasCurrencies(e)&&(this.loseMultipleCurrencies(e),!0)}},{key:"payIfPossible",value:function(e){return!!this.hasCurrency(e)&&(this.loseCurrency(e),!0)}},{key:"getCurrencyMultiplier",value:function(e){var t;return null!==(t=this._multipliers[e])&&void 0!==t?t:1}},{key:"setCurrencyMultiplier",value:function(e,t){e<=0||isNaN(e)||!this.supportsCurrencyType(t)||(this._multipliers[t]=e)}},{key:"supportsCurrencyType",value:function(e){return this._supportedCurrencies.includes(e)}},{key:"canAccess",value:function(){return!0}},{key:"save",value:function(){return{money:this._currencies[u.Money]}}},{key:"load",value:function(e){var t;this._currencies[u.Money]=null!==(t=e.money)&&void 0!==t?t:this._currencies[u.Money]}},{key:"onCurrencyGain",get:function(){return this._onCurrencyGain.asEvent()}},{key:"money",get:function(){return this._currencies.Money},set:function(e){this._currencies.Money=e}},{key:"wood",get:function(){return this._currencies.Wood}},{key:"grain",get:function(){return this._currencies.Grain}},{key:"souls",get:function(){return this._currencies.Souls}},{key:"bronze",get:function(){return this._currencies.Bronze}},{key:"silver",get:function(){return this._currencies.Silver}},{key:"gold",get:function(){return this._currencies.Gold}},{key:"getDeveloperPanelFields",value:function(){var e=this;return[new x("money","Money"),new y((function(){e.money=10}),"Set money to 10").setCssClass("btn-blue"),new S("money",0,100,2,"Money Slider")]}}]),a}(k);(function(e){e[e["Monster"]=0]="Monster",e[e["Action"]=1]="Action",e[e["Resource"]=2]="Resource",e[e["Tool"]=3]="Tool",e[e["Curse"]=4]="Curse"})(v||(v={}));var O;a("a4d3"),a("e01a"),a("ddb0");(function(e){e["KeyPress"]="keypress",e["KeyDown"]="keydown",e["KeyUp"]="keyup"})(O||(O={}));var A=function e(t,a){Object(c["a"])(this,e),this.actual=t,this.target=a},j=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,[{key:"isCompleted",get:function(){return this.actualValue>=this.targetValue}},{key:"progress",get:function(){return new A(Math.min(this.actualValue,this.targetValue),this.targetValue)}}]),e}(),P=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"isCompleted",get:function(){return!0}},{key:"actualValue",get:function(){return 0}},{key:"hint",get:function(){return""}},{key:"targetValue",get:function(){return 0}}]),a}(j),T=function e(t,a,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new P,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O.KeyDown;Object(c["a"])(this,e),this.keys=t,this.description=a,this.callback=n,this.requirement=s,this.eventType=r},D=(a("4de4"),a("a15b"),a("d81d"),a("8a60")),L=a.n(D),M=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,null,[{key:"addKeyBind",value:function(e){L.a.bind(e.keys,(function(){e.requirement.isCompleted&&e.callback()}),e.eventType),this._keyBinds.push(e)}},{key:"removeKeyBind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.KeyDown;this._keyBinds=this._keyBinds.filter((function(t){return t.keys!==e})),L.a.unbind(e,t)}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.KeyDown;L.a.trigger(e,t)}},{key:"getKeyBindDescriptions",value:function(){return this._keyBinds.map((function(e){var t="string"===typeof e.keys?e.keys:e.keys.join(", ");return{keys:t,description:e.description}}))}},{key:"reset",value:function(){this._keyBinds=[],L.a.reset()}}]),e}();M._keyBinds=[];var I,q=function(){function e(t,a,n,s,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(c["a"])(this,e),this._onDefeated=new C["SimpleEventDispatcher"],this.id=t,this.title=a,this.description=n,this.cardType=s,this.image=r,this.costs=i,this.goesToField=o}return Object(o["a"])(e,[{key:"setCosts",value:function(e){return this.costs=e,this}},{key:"canAfford",value:function(e){return e.hasCurrencies(this.costs)}},{key:"dispatchDefeat",value:function(){this._onDefeated.dispatch(this)}},{key:"onDefeated",get:function(){return this._onDefeated.asEvent()}}]),e}(),z=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.call(this,-1,"","",-1,"default.svg")}return Object(o["a"])(a,[{key:"canPlay",value:function(){return!1}},{key:"defeated",value:function(){}},{key:"play",value:function(){}},{key:"tap",value:function(){}},{key:"turnHasPassed",value:function(){}}]),a}(q),E=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s){var r;return Object(c["a"])(this,a),r=t.call(this,"adventure"),r.MAX_CARDS=7,r.playerHand=[],r.field=[],r.deletionQueue=[],r.currentTurn=0,r._onWin=new C["SimpleEventDispatcher"],r._onLose=new C["SimpleEventDispatcher"],r._onStart=new C["SimpleEventDispatcher"],r._onCardPlayed=new C["SimpleEventDispatcher"],r._onCardPlayedByLevel=new C["SimpleEventDispatcher"],r.playerDeck=e,r.level=n,r.playerStats=s,r.wallet=new _([]),r.isActive=!1,r.playerHand=Array(r.MAX_CARDS).fill(new z),r}return Object(o["a"])(a,[{key:"onStart",get:function(){return this._onStart.asEvent()}},{key:"onWin",get:function(){return this._onWin.asEvent()}},{key:"onLose",get:function(){return this._onLose.asEvent()}},{key:"onCardPlayed",get:function(){return this._onCardPlayed.asEvent()}},{key:"onCardPlayedByLevel",get:function(){return this._onCardPlayedByLevel.asEvent()}},{key:"startAdventure",value:function(){this.isActive&&console.warn("Tried to activate adventure that was already active"),this.isActive=!0,this._onStart.dispatch(this);for(var e=0;e<this.playerStats.startingCards;e++)this.draw(!0)}},{key:"initialize",value:function(e){var t=this;this.wallet=e.wallet;for(var a=new T("d","Draw a card",(function(){t.isActive&&t.draw()})),n=new T("w","Wait a turn",(function(){t.isActive&&t.wait()})),s=new T("q","Forfeit the adventure",(function(){t.isActive&&t.forfeit()})),r=function(e){M.addKeyBind(new T(e.toString(),"Play card ".concat(e),(function(){t.isActive&&t.play(e-1)}))),M.addKeyBind(new T("ctrl+".concat(e),"Tap card ".concat(e),(function(){t.isActive&&t.tap(e-1)}))),M.addKeyBind(new T("shift+".concat(e),"Discard card ".concat(e),(function(){t.isActive&&t.discard(e-1)})))},i=1;i<10;i++)r(i);M.addKeyBind(a),M.addKeyBind(n),M.addKeyBind(s)}},{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.playerHand[e];a&&a.canPlay(this)?this.wallet.payMultipleIfPossible(a.costs)&&(this.playerHand.splice(e,1,new z),this._onCardPlayed.dispatch(a.id),this._play(a),this.turnHasPassed(t)):console.warn("Cannot play card at index ".concat(e))}},{key:"discard",value:function(e){var t=this.playerHand[e];t&&this.playerHand.splice(e,1,new z)}},{key:"_play",value:function(e){var t=this;e.goesToField&&(this.field.push(e),e.onDefeated.subscribe((function(){e.defeated(t),t.queueDeletion(e)}))),e.play(this)}},{key:"tap",value:function(e){var t=this.field[e];t?(t.tap(this),this.turnHasPassed()):console.warn("Cannot tap card at index ".concat(e))}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.canDraw()){var t=this.playerDeck.draw();if(void 0!=t)for(var a=0;a<this.playerHand.length;a++)if(-1===this.playerHand[a].id){this.playerHand.splice(a,1,t);break}this.turnHasPassed(e)}else console.warn("Cannot draw")}},{key:"wait",value:function(){this.turnHasPassed()}},{key:"forfeit",value:function(){this.playerStats.health=0,this.turnHasPassed()}},{key:"turnHasPassed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e){var t,a=Object(l["a"])(this.field);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.turnHasPassed(this)}}catch(o){a.e(o)}finally{a.f()}this.currentTurn++}var s,r=Object(l["a"])(this.deletionQueue);try{for(r.s();!(s=r.n()).done;){var i=s.value,c=this.field.indexOf(i,0);c>-1&&this.field.splice(c,1)}}catch(o){r.e(o)}finally{r.f()}this.checkForLevelCard(),this.checkWinLoseConditions()}},{key:"checkWinLoseConditions",value:function(){this.isWon()&&(this.isActive=!1,this._onWin.dispatch(this.level)),this.isLost()&&(this.isActive=!1,this._onLose.dispatch(this.level))}},{key:"isWon",value:function(){if(this.level.getCardsLeftCount()>0)return!1;var e,t=Object(l["a"])(this.field);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.cardType===v.Monster)return!1}}catch(n){t.e(n)}finally{t.f()}return!0}},{key:"isLost",value:function(){return this.playerStats.health<=0}},{key:"checkForLevelCard",value:function(){var e=this.level.getCardAtTurn(this.currentTurn);e&&(this._onCardPlayedByLevel.dispatch(e.id),this._play(e),this.turnHasPassed(!0))}},{key:"canDraw",value:function(){return!this.playerDeck.isEmpty()&&this.handSpace>0}},{key:"handSpace",get:function(){var e,t=0,a=Object(l["a"])(this.playerHand);try{for(a.s();!(e=a.n()).done;){var n=e.value;-1===n.id&&t++}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"load",value:function(){}},{key:"save",value:function(){return[]}},{key:"queueDeletion",value:function(e){this.deletionQueue.push(e)}}]),a}(k);a("ac1f"),a("1276");(function(e){e[e["LogCard"]=0]="LogCard",e[e["TreeCard"]=1]="TreeCard",e[e["ForestCard"]=2]="ForestCard",e[e["BronzeOre"]=3]="BronzeOre",e[e["SilverOre"]=4]="SilverOre",e[e["GoldOre"]=5]="GoldOre",e[e["SmallGrain"]=6]="SmallGrain",e[e["MediumGrain"]=7]="MediumGrain",e[e["MagicTouch"]=8]="MagicTouch",e[e["SacrificeHand"]=9]="SacrificeHand",e[e["Draw3Card"]=10]="Draw3Card",e[e["LoseTurnsSmall"]=11]="LoseTurnsSmall",e[e["LoseTurnsMedium"]=12]="LoseTurnsMedium",e[e["LoseTurnsLarge"]=13]="LoseTurnsLarge",e[e["InstantDamagePlayerSmall"]=14]="InstantDamagePlayerSmall",e[e["InstantDamagePlayerMedium"]=15]="InstantDamagePlayerMedium",e[e["InstantDamagePlayerLarge"]=16]="InstantDamagePlayerLarge",e[e["FreezeMonstersSmall"]=17]="FreezeMonstersSmall",e[e["FreezeMonstersMedium"]=18]="FreezeMonstersMedium",e[e["InstantDamageSmall"]=19]="InstantDamageSmall",e[e["InstantDamageMedium"]=20]="InstantDamageMedium",e[e["InstantDamageLarge"]=21]="InstantDamageLarge",e[e["DiscardHand"]=22]="DiscardHand",e[e["ForestFire"]=23]="ForestFire",e[e["RodOfAsclepius"]=24]="RodOfAsclepius",e[e["Bread"]=25]="Bread",e[e["ChaliceSmall"]=26]="ChaliceSmall",e[e["ChaliceMedium"]=27]="ChaliceMedium",e[e["ChaliceLarge"]=28]="ChaliceLarge",e[e["Rat"]=29]="Rat",e[e["Chicken"]=30]="Chicken",e[e["Cow"]=31]="Cow",e[e["Pig"]=32]="Pig",e[e["Farmer"]=33]="Farmer",e[e["LandMine"]=34]="LandMine",e[e["Skeleton"]=35]="Skeleton",e[e["SkeletonKing"]=36]="SkeletonKing",e[e["Troll"]=37]="Troll",e[e["Spider"]=38]="Spider",e[e["Spiderling"]=39]="Spiderling",e[e["Dragon"]=40]="Dragon",e[e["BronzeAxe"]=41]="BronzeAxe",e[e["SilverAxe"]=42]="SilverAxe",e[e["GoldAxe"]=43]="GoldAxe",e[e["BronzePickaxe"]=44]="BronzePickaxe",e[e["SilverPickaxe"]=45]="SilverPickaxe",e[e["GoldPickaxe"]=46]="GoldPickaxe",e[e["BronzeScythe"]=47]="BronzeScythe",e[e["SilverScythe"]=48]="SilverScythe",e[e["GoldScythe"]=49]="GoldScythe",e[e["BasicSword"]=50]="BasicSword",e[e["BronzeSword"]=51]="BronzeSword",e[e["SilverSword"]=52]="SilverSword",e[e["GoldSword"]=53]="GoldSword",e[e["CrackedShield"]=54]="CrackedShield",e[e["VikingShield"]=55]="VikingShield"})(I||(I={}));var B,F=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i){var o;return Object(c["a"])(this,a),o=t.call(this,e,n,s,r,i),o.goesToField=!1,o}return Object(o["a"])(a,[{key:"canPlay",value:function(){return!0}},{key:"defeated",value:function(){}},{key:"tap",value:function(){}},{key:"turnHasPassed",value:function(){}}]),a}(q);(function(e){e[e["Axe"]=0]="Axe",e[e["Pickaxe"]=1]="Pickaxe",e[e["Scythe"]=2]="Scythe"})(B||(B={}));var G,N=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i,o){var l;return Object(c["a"])(this,a),l=t.call(this,e,n,s,v.Tool,r),l.type=i,l.tier=o,l}return Object(o["a"])(a,[{key:"play",value:function(e){switch(this.type){case B.Axe:e.playerStats.activeAxe=Math.max(e.playerStats.activeAxe,this.tier);break;case B.Pickaxe:e.playerStats.activePickaxe=Math.max(e.playerStats.activePickaxe,this.tier);break;case B.Scythe:e.playerStats.activeScythe=Math.max(e.playerStats.activeScythe,this.tier);break}}}]),a}(F);(function(e){e[e["Stone"]=0]="Stone",e[e["Bronze"]=1]="Bronze",e[e["Silver"]=2]="Silver",e[e["Gold"]=3]="Gold"})(G||(G={}));a("99af");var W,H=function(){function e(t,a){Object(c["a"])(this,e),this.amount=t,this.type=a}return Object(o["a"])(e,[{key:"isValid",value:function(){return!isNaN(this.amount)&&this.amount>=0}},{key:"toString",value:function(){return"".concat(this.amount," ").concat(this.type)}},{key:"add",value:function(e){this.amount+=e}},{key:"subtract",value:function(e){this.amount-=e}},{key:"multiply",value:function(e){this.amount*=e}},{key:"divide",value:function(e){0!==e?this.amount/=e:console.error("Cannot divide ".concat(this," by 0"))}}]),e}(),V=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,null,[{key:"intBetween",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}},{key:"booleanWithProbability",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&(e<0||e>1)?(console.warn("Trying to generate a boolean with probability ".concat(e," outside of [0,1].\n            Run this method with requireNormalizedProbability=false if you're okay with this.")),!1):Math.random()<e}},{key:"booleanWithOneInChance",value:function(e){return 0==this.intBetween(0,e)}},{key:"floatBetween",value:function(e,t){return Math.random()*(t-e)+e}},{key:"arrayIndex",value:function(e){return this.intBetween(0,e.length)}},{key:"fromArray",value:function(e){return e[this.arrayIndex(e)]}},{key:"shuffle",value:function(e){var t,a,n=e.length;while(0!==n)a=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[a],e[a]=t;return e}}]),e}(),R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(c["a"])(this,e),this.cards=t}return Object(o["a"])(e,[{key:"shuffle",value:function(){this.cards=V.shuffle(this.cards)}},{key:"draw",value:function(){if(!this.isEmpty())return this.cards.shift()}},{key:"isEmpty",value:function(){return 0===this.cards.length}},{key:"toDeckString",value:function(){return this.cards.join(".")}},{key:"getSize",value:function(){return this.cards.length}}]),e}(),$=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i,o){var l;return Object(c["a"])(this,a),l=t.call(this,e,n,s,r,i),l.health=o,l.goesToField=!0,l}return Object(o["a"])(a,[{key:"takeDamage",value:function(e){e=Math.max(0,e),this.health-=e,this.health<=0&&this.dispatchDefeat()}}]),a}(q),U=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i,o,l,u,d){var h;return Object(c["a"])(this,a),h=t.call(this,e,n,"".concat(s,"\nGain ").concat(o," souls on defeat"),v.Monster,r,i),h.frozenCooldown=0,h._onAttack=new C["SignalDispatcher"],h.reward=o,h.attack=l,h.defense=u,h.attackInterval=d,h.nextAttack=d,h.goesToField=!0,h}return Object(o["a"])(a,[{key:"canPlay",value:function(){return!0}},{key:"defeated",value:function(e){e.wallet.gainCurrency(new H(this.reward,u.Souls))}},{key:"play",value:function(){}},{key:"tap",value:function(e){var t=e.playerStats.getAttack(),a=t-this.defense;this.takeDamage(a)}},{key:"turnHasPassed",value:function(e){this.frozenCooldown>0?this.frozenCooldown--:(this.nextAttack--,this.nextAttack<=0&&(this.performAttack(e),this.nextAttack=this.attackInterval))}},{key:"performAttack",value:function(e){this.health<=0||(e.playerStats.attackFor(this.attack),this._onAttack.dispatch())}},{key:"onAttack",get:function(){return this._onAttack.asEvent()}}]),a}($),K=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.call(this,I.MagicTouch,"Magic touch","Tap every card in the field once",v.Action,"magic-touch.svg")}return Object(o["a"])(a,[{key:"play",value:function(e){var t,a=Object(l["a"])(e.field);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.tap(e)}}catch(s){a.e(s)}finally{a.f()}}}]),a}(F),Y=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i){var o;return Object(c["a"])(this,a),o=t.call(this,e,n,"Gain ".concat(i," when cut down"),v.Resource,s,r),o.reward=i,o}return Object(o["a"])(a,[{key:"defeated",value:function(e){e.wallet.gainCurrency(this.reward)}},{key:"canPlay",value:function(){return!0}},{key:"play",value:function(){}},{key:"tap",value:function(e){this.takeDamage(e.playerStats.getWoodCuttingDamage())}},{key:"turnHasPassed",value:function(){}}]),a}($),Q=(a("4160"),a("a630"),a("4ec9"),a("b64b"),a("3ca3"),a("159b"),function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,null,[{key:"getNamesAndValues",value:function(t){return e.getNames(t).map((function(e){return{name:e,value:t[e]}}))}},{key:"getNames",value:function(t){return e.getObjValues(t).filter((function(e){return"string"===typeof e}))}},{key:"getValues",value:function(t){return e.getObjValues(t).filter((function(e){return"number"===typeof e}))}},{key:"getSelectList",value:function(e,t){var a=new Map;return this.getValues(e).forEach((function(e){return a.set(e,t(e))})),a}},{key:"getSelectListAsArray",value:function(e,t){return Array.from(this.getSelectList(e,t),(function(e){return{value:e[0],presentation:e[1]}}))}},{key:"getObjValues",value:function(e){return Object.keys(e).map((function(t){return e[t]}))}}]),e}()),Z=(a("13d5"),function(){function e(){Object(c["a"])(this,e),this.cards=[];for(var t=fe.getAllCardsIds(),a=0;a<t.length;a++)this.cards.push(0)}return Object(o["a"])(e,[{key:"addCard",value:function(e){var t=this.cards[e]+1;this.cards.splice(e,1,t)}},{key:"removeCard",value:function(e){var t=Math.max(0,this.cards[e]-1);this.cards.splice(e,1,t)}},{key:"getCountForCard",value:function(e){return this.cards[e]}},{key:"isEmpty",value:function(){return 0===this.cards.length}},{key:"toDeckString",value:function(){for(var e=[],t=0;t<this.cards.length;t++)0!=this.cards[t]&&(e=e.concat(Array(this.cards[t]).fill(t)));return e.join(".")}},{key:"getSize",value:function(){return this.cards.reduce((function(e,t){return e+t}),0)}}],[{key:"fromDeckString",value:function(t){var a;return null!==(a=fe.getIdDeckFromString(t))&&void 0!==a?a:new e}}]),e}()),X=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i){var o;return Object(c["a"])(this,a),o=t.call(this,e,n,"Gain ".concat(i," ore when mined"),v.Resource,s,r),o.reward=i,o}return Object(o["a"])(a,[{key:"defeated",value:function(e){e.wallet.gainCurrency(this.reward)}},{key:"canPlay",value:function(){return!0}},{key:"play",value:function(){}},{key:"tap",value:function(e){this.takeDamage(e.playerStats.getMiningDamage())}},{key:"turnHasPassed",value:function(){}}]),a}($),J=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i){var o;return Object(c["a"])(this,a),o=t.call(this,e,n,"".concat(s,".\nReplaces current weapon"),v.Tool,r),o.weapon=i,o}return Object(o["a"])(a,[{key:"play",value:function(e){e.playerStats.activeWeapon=this.weapon}}]),a}(F),ee=(a("b0c0"),function e(t,a,n){Object(c["a"])(this,e),this.name=t,this.attack=a,this.defense=n}),te=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s){var r;return Object(c["a"])(this,a),r=t.call(this,e,"Draw ".concat(s," cards"),"Draw ".concat(s," cards in a single turn"),v.Action,n),r.amount=s,r}return Object(o["a"])(a,[{key:"play",value:function(e){for(var t=0;t<this.amount;t++)e.draw(!0)}}]),a}(F),ae=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i){var o;return Object(c["a"])(this,a),o=t.call(this,e,n,"Gain ".concat(i," when cut down"),v.Resource,s,r),o.reward=i,o}return Object(o["a"])(a,[{key:"defeated",value:function(e){e.wallet.gainCurrency(this.reward)}},{key:"canPlay",value:function(){return!0}},{key:"play",value:function(){}},{key:"tap",value:function(e){this.takeDamage(e.playerStats.getForagingDamage())}},{key:"turnHasPassed",value:function(){}}]),a}($),ne=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i){var o;return Object(c["a"])(this,a),o=t.call(this,e,n,s,v.Action,r),o.amount=i,o}return Object(o["a"])(a,[{key:"play",value:function(e){e.playerStats.health+=this.amount}}]),a}(F),se=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r){var i;return Object(c["a"])(this,a),i=t.call(this,e,n,"Instantly deal ".concat(r," damage, ignoring defense"),v.Curse,s),i.damage=r,i}return Object(o["a"])(a,[{key:"play",value:function(e){e.playerStats.attackFor(this.damage,!0)}}]),a}(F),re=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s){var r;return Object(c["a"])(this,a),r=t.call(this,e,"-".concat(s," turns"),"Travel ".concat(s," turns back to the past"),v.Action,n),r.amount=s,r}return Object(o["a"])(a,[{key:"play",value:function(e){e.currentTurn=Math.max(0,e.currentTurn-(this.amount+1))}}]),a}(F),ie=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.call(this,I.ForestFire,"Forest Fire","Remove all wood resources from the field",v.Curse,"forest-fire.svg")}return Object(o["a"])(a,[{key:"play",value:function(e){var t,a=Object(l["a"])(e.field);try{for(a.s();!(t=a.n()).done;){var n=t.value;n instanceof Y&&(n.reward=new H(0,u.Wood),n.takeDamage(1/0))}}catch(s){a.e(s)}finally{a.f()}}}]),a}(F),ce=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i){return Object(c["a"])(this,a),t.call(this,e,n,"Explodes when tapped. Self-destructs.",s,1/0,r,10,0,i)}return Object(o["a"])(a,[{key:"tap",value:function(e){this.performAttack(e),this.health=0,this.takeDamage(1/0)}},{key:"turnHasPassed",value:function(){this.nextAttack--,this.nextAttack<=0&&(this.health=0,this.takeDamage(1/0))}}]),a}(U),oe=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.call(this,I.DiscardHand,"Discard hand","The player is forced to discard their entire hand",v.Curse,"discard-hand.svg")}return Object(o["a"])(a,[{key:"play",value:function(e){for(var t=0;t<e.playerHand.length;t++)e.discard(t)}}]),a}(F),le=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r,i,o,l,u,d){var v;return Object(c["a"])(this,a),v=t.call(this,e,n,s,r,i,o,0,l,u),v.spawn=d,v}return Object(o["a"])(a,[{key:"performAttack",value:function(e){if(!(this.health<=0)){var t=fe.getCard(this.spawn);e._play(t)}}}]),a}(U),ue=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.call(this,I.RodOfAsclepius,"Rod of Asclepius","All monsters in the field gain 3 health",v.Curse,"asclepius.svg")}return Object(o["a"])(a,[{key:"play",value:function(e){var t,a=Object(l["a"])(e.field);try{for(a.s();!(t=a.n()).done;){var n=t.value;n instanceof U&&(n.health+=3)}}catch(s){a.e(s)}finally{a.f()}}}]),a}(F),de=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.call(this,I.SacrificeHand,"Sacrifice hand","Discard entire hand.\nGain 3 souls",v.Action,"sacrifice-hand.svg")}return Object(o["a"])(a,[{key:"play",value:function(e){for(var t=0;t<e.playerHand.length;t++)e.discard(t);e.wallet.gainCurrency(new H(3,u.Souls))}}]),a}(F),ve=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r){var i;return Object(c["a"])(this,a),i=t.call(this,e,n,"Instantly deal ".concat(r," damage to each monster, ignoring defense"),v.Action,s),i.damage=r,i}return Object(o["a"])(a,[{key:"play",value:function(e){var t,a=Object(l["a"])(e.field);try{for(a.s();!(t=a.n()).done;){var n=t.value;n instanceof U&&n.takeDamage(this.damage)}}catch(s){a.e(s)}finally{a.f()}}}]),a}(F),he=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r){var i;return Object(c["a"])(this,a),i=t.call(this,e,n,"Freeze all monsters for ".concat(r," turns"),v.Action,s),i.turns=r,i}return Object(o["a"])(a,[{key:"play",value:function(e){var t,a=Object(l["a"])(e.field);try{for(a.s();!(t=a.n()).done;){var n=t.value;n instanceof U&&(n.frozenCooldown+=this.turns+1)}}catch(s){a.e(s)}finally{a.f()}}}]),a}(F),fe=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,null,[{key:"getCard",value:function(e){switch(e){case I.LogCard:return new Y(I.LogCard,"Log","log.svg",3,new H(1,u.Wood));case I.TreeCard:return new Y(I.TreeCard,"Tree","tree.svg",6,new H(3,u.Wood));case I.ForestCard:return new Y(I.ForestCard,"Forest","forest.svg",10,new H(5,u.Wood));case I.BronzeOre:return new X(I.BronzeOre,"Bronze ore","ore-bronze.svg",3,new H(1,u.Bronze));case I.SilverOre:return new X(I.SilverOre,"Silver ore","ore-silver.svg",6,new H(1,u.Silver));case I.GoldOre:return new X(I.GoldOre,"Gold ore","ore-gold.svg",10,new H(1,u.Gold));case I.SmallGrain:return new ae(I.SmallGrain,"Grain","grain.svg",3,new H(1,u.Grain));case I.MediumGrain:return new ae(I.MediumGrain,"Straw","straw.svg",6,new H(3,u.Grain));case I.Bread:return new ne(I.Bread,"Bread","Heal 10 hitpoints","bread.svg",10).setCosts([new H(3,u.Grain)]);case I.ChaliceSmall:return new ne(I.ChaliceSmall,"Goblet of Energy","Heal 5 hitpoints","chalice-yellow.svg",5).setCosts([new H(3,u.Souls)]);case I.ChaliceMedium:return new ne(I.ChaliceMedium,"Goblet of Fire","Heal 10 hitpoints","chalice-red.svg",10).setCosts([new H(6,u.Souls)]);case I.ChaliceLarge:return new ne(I.ChaliceLarge,"Goblet of Mystics","Heal 15 hitpoints","chalice-purple.svg",15).setCosts([new H(9,u.Souls)]);case I.MagicTouch:return(new K).setCosts([new H(2,u.Souls)]);case I.SacrificeHand:return new de;case I.Draw3Card:return new te(I.Draw3Card,"draw-card.svg",3).setCosts([new H(1,u.Souls)]);case I.LoseTurnsSmall:return new re(I.LoseTurnsSmall,"hourglass-yellow.svg",5).setCosts([new H(1,u.Souls)]);case I.LoseTurnsMedium:return new re(I.LoseTurnsMedium,"hourglass-red.svg",10).setCosts([new H(2,u.Souls)]);case I.LoseTurnsLarge:return new re(I.LoseTurnsLarge,"hourglass-purple.svg",15).setCosts([new H(3,u.Souls)]);case I.InstantDamagePlayerSmall:return new ve(I.InstantDamagePlayerSmall,"Energy Strike","strike-yellow.svg",3).setCosts([new H(3,u.Souls)]);case I.InstantDamagePlayerMedium:return new ve(I.InstantDamagePlayerMedium,"Fire Strike","strike-red.svg",5).setCosts([new H(4,u.Souls)]);case I.InstantDamagePlayerLarge:return new ve(I.InstantDamagePlayerLarge,"Mystic Strike","strike-purple.svg",7).setCosts([new H(5,u.Souls)]);case I.FreezeMonstersSmall:return new he(I.FreezeMonstersSmall,"Frozen Blast","freeze-blue.svg",5).setCosts([new H(2,u.Souls)]);case I.FreezeMonstersMedium:return new he(I.FreezeMonstersMedium,"Frozen 2 Blast","freeze-purple.svg",10).setCosts([new H(3,u.Souls)]);case I.InstantDamageSmall:return new se(I.InstantDamageSmall,"Energy Surge","damage-yellow.svg",3);case I.InstantDamageMedium:return new se(I.InstantDamageMedium,"Fire Surge","damage-red.svg",5);case I.InstantDamageLarge:return new se(I.InstantDamageLarge,"Mystic Surge","damage-purple.svg",10);case I.DiscardHand:return new oe;case I.ForestFire:return new ie;case I.RodOfAsclepius:return new ue;case I.BasicSword:return new J(I.BasicSword,"Basic Sword","A bit stronger","sword.svg",new ee("Basic Sword",2,0)).setCosts([new H(2,u.Wood)]);case I.BronzeSword:return new J(I.BronzeSword,"Bronze Sword","Made from the bronzest bronze","sword-bronze.svg",new ee("Bronze Sword",3,1)).setCosts([new H(3,u.Wood),new H(1,u.Bronze)]);case I.SilverSword:return new J(I.SilverSword,"Silver Sword","It looks nice and shiny","sword-silver.svg",new ee("Silver Sword",4,2)).setCosts([new H(3,u.Wood),new H(2,u.Silver)]);case I.GoldSword:return new J(I.GoldSword,"Gold Sword","Worth its weight in gold","sword-gold.svg",new ee("Gold Sword",6,2)).setCosts([new H(4,u.Wood),new H(2,u.Gold)]);case I.CrackedShield:return new J(I.CrackedShield,"Cracked Shield","Better than nothing","shield-cracked.svg",new ee("Cracked Shield",0,1));case I.VikingShield:return new J(I.VikingShield,"Viking Shield","Very good at blocking, but renders you unable to attack","shield-viking.svg",new ee("Viking Shield",0,5)).setCosts([new H(2,u.Wood),new H(2,u.Silver)]);case I.Rat:return new U(I.Rat,"Rat","When the counter reaches 0, it attacks.","rat.svg",2,1,1,0,3);case I.Chicken:return new U(I.Chicken,"Chicken","Cluck cluck.","chicken.svg",2,1,1,0,3);case I.Cow:return new U(I.Cow,"Cow","Moo?","cow.svg",5,2,2,0,3);case I.Pig:return new U(I.Pig,"Pig","Oink oink","pig.svg",3,1,2,0,2);case I.Farmer:return new U(I.Farmer,"Master Farmer","Cor blimey mate, what are ye doing in me pockets?","farmer.svg",9,2,1,1,4);case I.LandMine:return new ce(I.LandMine,"Land Mine","land-mine.svg",2,10);case I.Skeleton:return new U(I.Skeleton,"Skeleton","Very spooky but moderately scary","skeleton.svg",8,1,2,1,4);case I.SkeletonKing:return new le(I.SkeletonKing,"Skeleton King","Has the power to raise skeletons from the dead","skeleton-king.svg",20,5,1,3,I.Skeleton);case I.Troll:return new U(I.Troll,"Troll","It does not smell good","troll.svg",6,2,2,2,5);case I.Spider:return new le(I.Spider,"Spider","Kill it before it gives birth to spiderlings!","spider-large.svg",20,3,0,5,I.Spiderling);case I.Spiderling:return new U(I.Spiderling,"Spiderling","It looks kind of cute.","spider-small.svg",3,0,2,0,3);case I.Dragon:return new U(I.Dragon,"Dragon","It breathes fire... and oxygen.","dragon.svg",22,5,3,2,4);case I.BronzeAxe:return new N(I.BronzeAxe,"Bronze axe","2 woodcutting damage","hatchet-bronze.svg",B.Axe,G.Bronze).setCosts([new H(1,u.Wood),new H(1,u.Bronze)]);case I.SilverAxe:return new N(I.SilverAxe,"Silver axe","3 woodcutting damage","hatchet-silver.svg",B.Axe,G.Silver).setCosts([new H(2,u.Wood),new H(1,u.Silver)]);case I.GoldAxe:return new N(I.GoldAxe,"Gold axe","4 woodcutting damage","hatchet-gold.svg",B.Axe,G.Gold).setCosts([new H(3,u.Wood),new H(1,u.Gold)]);case I.BronzePickaxe:return new N(I.BronzePickaxe,"Bronze Pickaxe","2 mining damage","pickaxe-bronze.svg",B.Pickaxe,G.Bronze).setCosts([new H(1,u.Wood),new H(1,u.Bronze)]);case I.SilverPickaxe:return new N(I.SilverPickaxe,"Silver Pickaxe","3 mining damage","pickaxe-silver.svg",B.Pickaxe,G.Silver).setCosts([new H(2,u.Wood),new H(1,u.Silver)]);case I.GoldPickaxe:return new N(I.GoldPickaxe,"Gold Pickaxe","4 mining damage","pickaxe-gold.svg",B.Pickaxe,G.Gold).setCosts([new H(3,u.Wood),new H(1,u.Gold)]);case I.BronzeScythe:return new N(I.BronzeScythe,"Bronze Scythe","2 foraging damage","scythe-bronze.svg",B.Scythe,G.Bronze).setCosts([new H(1,u.Wood),new H(1,u.Bronze)]);case I.SilverScythe:return new N(I.SilverScythe,"Silver Scythe","3 foraging damage","scythe-silver.svg",B.Scythe,G.Silver).setCosts([new H(2,u.Wood),new H(1,u.Silver)]);case I.GoldScythe:return new N(I.GoldScythe,"Gold Scythe","4 foraging damage","scythe-gold.svg",B.Scythe,G.Gold).setCosts([new H(3,u.Wood),new H(1,u.Gold)]);default:throw new Error("Card with id ".concat(e," not found."))}}},{key:"getAllCardsIds",value:function(){return Q.getValues(I)}},{key:"getCardTypeCount",value:function(){return Q.getValues(v).length}},{key:"getAllCards",value:function(){var e=this;return this.getAllCardsIds().map((function(t){return e.getCard(t)}))}},{key:"getCardCount",value:function(){return this.getAllCardsIds().length}},{key:"getDeckFromString",value:function(e){if(""===e)return new R;try{var t=e.split(".").map((function(e){return parseInt(e)}));return this.getDeckFromCardIds(t)}catch(a){return null}}},{key:"getDeckFromIdDeck",value:function(e){var t;return null!==(t=this.getDeckFromString(e.toDeckString()))&&void 0!==t?t:new R}},{key:"getIdDeckFromString",value:function(e){if(""===e)return new Z;try{var t,a=e.split(".").map((function(e){return parseInt(e)})),n=new Z,s=Object(l["a"])(a);try{for(s.s();!(t=s.n()).done;){var r=t.value;n.addCard(r)}}catch(i){s.e(i)}finally{s.f()}return n}catch(c){return null}}},{key:"getDeckFromCardIds",value:function(e){var t=this,a=e.map((function(e){return t.getCard(e)}));return new R(a)}}]),e}();(function(e){e[e["TutorialLevel"]=0]="TutorialLevel",e[e["TheFarm"]=1]="TheFarm",e[e["SpidersDen"]=2]="SpidersDen",e[e["TheWizard"]=3]="TheWizard",e[e["TheTroll"]=4]="TheTroll",e[e["TheDragon"]=5]="TheDragon",e[e["TheNecromancer"]=6]="TheNecromancer"})(W||(W={}));a("7db0");var ge,pe=function(){function e(t,a,n,s,r,i,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:3,u=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];Object(c["a"])(this,e),this.id=t,this.name=a,this.description=n,this.rewardPack=s,this.rewardCount=l,this.moneyReward=r,this.cards=i,this.requirement=o,this.shuffleDeck=u}return Object(o["a"])(e,[{key:"getMoneyReward",value:function(){return V.floatBetween(.8,1.2)*this.moneyReward}},{key:"getCardsLeftCount",value:function(){return this.cards.length}},{key:"canAccess",value:function(){return this.requirement.isCompleted}},{key:"getFutureCards",value:function(e){return this.cards.filter((function(t){return t[0]>e}))}},{key:"getNextCard",value:function(e){return this.getFutureCards(e)[0][1]}},{key:"getCardAtTurn",value:function(e){var t=this.cards.find((function(t){return t[0]===e}));if(t){var a=this.cards.indexOf(t);return this.cards.splice(a,1),t[1]}}}]),e}();(function(e){e["BeginnerPack"]="Beginner Pack",e["BronzeTierPack"]="Bronze Tier Pack",e["SilverTierPack"]="Silver Tier Pack",e["GoldTierPack"]="Gold Tier Pack",e["FarmPack"]="Farm Pack",e["ActionCardPack"]="Action Card Pack",e["MonsterPack"]="Monster Pack",e["Legendary"]="Legendary Pack",e["CursePack"]="Curse Pack"})(ge||(ge={}));var me,ye=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s){var r;return Object(c["a"])(this,a),r=t.call(this),r.statistic=e,r.index=n,r.targetValue=s,r}return Object(o["a"])(a,[{key:"getTargetValue",value:function(){return this.targetValue}},{key:"actualValue",get:function(){return this.statistic.value[this.index]}},{key:"hint",get:function(){return"The statistic ".concat(this.statistic.description," needs to be at least ").concat(this.targetValue)}}]),a}(j),be=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s){return Object(c["a"])(this,a),t.call(this,e,n,s)}return Object(o["a"])(a,[{key:"hint",get:function(){return"Complete level ".concat(this.index," ").concat(this.targetValue," times")}}]),a}(ye);(function(e){e["TotalMoneyGained"]="total-money-gained",e["CardsPlayed"]="cards-played",e["CardsPlayedByLevel"]="cards-played-by-level",e["LevelsCompleted"]="levels-completed",e["CardsPlayedPerType"]="cards-played-by-type"})(me||(me={}));var we,ke=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,null,[{key:"getLevel",value:function(e){switch(e){case W.TutorialLevel:return new pe(W.TutorialLevel,"The Cellar","A good place to start",ge.BeginnerPack,50,[[15,fe.getCard(I.Rat)],[30,fe.getCard(I.Rat)]],new P);case W.TheFarm:return new pe(W.TheFarm,"The farm","Watch out, the farmer has defense stats. You might need a stronger weapon!",ge.BronzeTierPack,100,[[15,fe.getCard(I.Chicken)],[20,fe.getCard(I.Chicken)],[25,fe.getCard(I.Pig)],[30,fe.getCard(I.Cow)],[40,fe.getCard(I.Farmer)]],new be(et.game.features.statistics.getStatistic(me.LevelsCompleted),W.TutorialLevel,1));case W.SpidersDen:return new pe(W.SpidersDen,"Spiders Den","The Spider can spawn Spiderlings, be careful!",ge.BronzeTierPack,150,[[10,fe.getCard(I.Spiderling)],[12,fe.getCard(I.Spider)]],new be(et.game.features.statistics.getStatistic(me.LevelsCompleted),W.TheFarm,1));case W.TheWizard:return new pe(W.TheWizard,"The Wizard","He will smite you down with his spells",ge.SilverTierPack,200,[[25,fe.getCard(I.InstantDamageSmall)],[30,fe.getCard(I.InstantDamageSmall)],[35,fe.getCard(I.Skeleton)],[40,fe.getCard(I.InstantDamageMedium)],[47,fe.getCard(I.InstantDamageMedium)],[55,fe.getCard(I.InstantDamageLarge)],[60,fe.getCard(I.Skeleton)]],new be(et.game.features.statistics.getStatistic(me.LevelsCompleted),W.TheFarm,1));case W.TheDragon:return new pe(W.TheDragon,"Dragons Den","Can you defeat the Green Eyes Red Dragon?",ge.GoldTierPack,400,[[5,fe.getCard(I.Chicken)],[30,fe.getCard(I.ForestFire)],[32,fe.getCard(I.Dragon)],[40,fe.getCard(I.Skeleton)],[50,fe.getCard(I.InstantDamageMedium)],[60,fe.getCard(I.Skeleton)],[61,fe.getCard(I.RodOfAsclepius)],[70,fe.getCard(I.InstantDamageLarge)]],new be(et.game.features.statistics.getStatistic(me.LevelsCompleted),W.TheWizard,1));case W.TheTroll:return new pe(W.TheTroll,"The Troll","Prepare yourself for nonsense about to be thrown your way",ge.ActionCardPack,300,[[25,fe.getCard(I.ForestFire)],[28,fe.getCard(I.LandMine)],[32,fe.getCard(I.InstantDamageMedium)],[35,fe.getCard(I.Skeleton)],[45,fe.getCard(I.DiscardHand)],[50,fe.getCard(I.BasicSword)],[53,fe.getCard(I.InstantDamageMedium)],[60,fe.getCard(I.Troll)],[62,fe.getCard(I.RodOfAsclepius)],[70,fe.getCard(I.InstantDamageLarge)],[75,fe.getCard(I.DiscardHand)]],new be(et.game.features.statistics.getStatistic(me.LevelsCompleted),W.TheWizard,1));case W.TheNecromancer:return new pe(W.TheNecromancer,"The Necromancer","Has the ability to raise enemies from the dead",ge.Legendary,600,[[25,fe.getCard(I.Skeleton)],[30,fe.getCard(I.LandMine)],[35,fe.getCard(I.SkeletonKing)],[38,fe.getCard(I.DiscardHand)],[44,fe.getCard(I.RodOfAsclepius)],[51,fe.getCard(I.SkeletonKing)],[53,fe.getCard(I.InstantDamageMedium)]],new be(et.game.features.statistics.getStatistic(me.LevelsCompleted),W.TheDragon,1));default:throw new Error("Level with id ".concat(e," not found."))}}},{key:"getAllLevels",value:function(){var e=this;return this.getAllLevelsIds().map((function(t){return e.getLevel(t)}))}},{key:"getLevelCount",value:function(){return this.getAllLevelsIds().length}},{key:"getAllLevelsIds",value:function(){return Q.getValues(W)}}]),e}(),Ce=function(){function e(t){Object(c["a"])(this,e),this._tickInterval=-1,this.TICK_DURATION=.1,this.SAVE_INTERVAL=30,this._nextSave=this.SAVE_INTERVAL,this.gameSpeed=1,this._lastUpdate=0,this._onSave=new C["SignalDispatcher"],this._onLose=new C["SimpleEventDispatcher"],this.SAVE_KEY="card-quest",this.features=t,this.state=n.Launching}return Object(o["a"])(e,[{key:"onSave",get:function(){return this._onSave.asEvent()}},{key:"onLose",get:function(){return this._onLose.asEvent()}},{key:"getDeveloperPanel",value:function(){var e,t=this,a=[new f("Game",[new b("state","State").setObject(this),new w("gameSpeed",[["0.5x",.5],["1x",1],["2x",2],["4x",4]],"Game speed").setObject(this),new y((function(){t.start()}),"Start").setCssClass("btn-green"),new y((function(){t.pause()}),"Pause").setCssClass("btn-blue"),new y((function(){t.resume()}),"Resume").setCssClass("btn-green"),new y((function(){t.stop()}),"Stop").setCssClass("btn-red")])],n=Object(l["a"])(this.featureList);try{for(n.s();!(e=n.n()).done;){var s,r=e.value,i=r.getDeveloperPanelFields(),c=Object(l["a"])(i);try{for(c.s();!(s=c.n()).done;){var o=s.value;o.setObject(r)}}catch(d){c.e(d)}finally{c.f()}var u=new f(r.saveKey,i);u.isEmpty()||a.push(u)}}catch(d){n.e(d)}finally{n.f()}return new h(a)}},{key:"update",value:function(){var e=(new Date).getTime()/1e3,t=e-this._lastUpdate;if(this.state==n.Playing){var a,s=t*this.gameSpeed,r=Object(l["a"])(this.featureList);try{for(r.s();!(a=r.n()).done;){var i=a.value;i.update(s)}}catch(c){r.e(c)}finally{r.f()}this._lastUpdate=e,this._nextSave-=s,this._nextSave<=0&&(this.save(),this._nextSave=this.SAVE_INTERVAL)}}},{key:"getTotalCurrencyMultiplier",value:function(e){var t,a=1,n=Object(l["a"])(this.featureList);try{for(n.s();!(t=n.n()).done;){var s=t.value;a*=s.getTotalCurrencyMultiplier(e)}}catch(r){n.e(r)}finally{n.f()}return a}},{key:"initialize",value:function(){var e,t=Object(l["a"])(this.featureList);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.initialize(this.features)}}catch(n){t.e(n)}finally{t.f()}}},{key:"hasEnoughCards",value:function(){return this.features.collection.hasEnoughCards()}},{key:"deckIsValid",value:function(){return this.features.collection.currentDeckIsValid()}},{key:"canStartAdventure",value:function(){return this.hasEnoughCards()&&this.deckIsValid()&&this.canAffordSuperPowers()}},{key:"goOnCustomAdventure",value:function(e){this._goOnAnAdventure(e)}},{key:"goOnAnAdventure",value:function(e){if(this.canStartAdventure()){var t=ke.getLevel(e);t.canAccess()&&this._goOnAnAdventure(t)}}},{key:"_goOnAnAdventure",value:function(e){var t=this,a=new E(fe.getDeckFromIdDeck(this.features.collection.currentDeck),e,this.features.superPowers.getPlayerStats());a.level.shuffleDeck&&a.playerDeck.shuffle(),this.features.statistics.registerAdventureSubscribers(a),this.features.wallet.resetTemporaryCurrencies(),a.wallet=this.features.wallet,this.features.wallet.payIfPossible(new H(this.features.superPowers.getTotalCosts(),u.Money)),this.features.adventure=Object.assign(this.features.adventure,a),this.features.achievements.registerAdventureSubscribers(this.features),this.features.automation.registerAdventure(this.features.adventure),this.features.adventure.onWin.subscribe((function(e){t.features.collection.openCardPack(e.rewardPack,e.rewardCount),t.features.wallet.gainCurrency(new H(e.getMoneyReward(),u.Money))})),this.features.adventure.onLose.subscribe((function(e){t._onLose.dispatch(e)})),this.features.adventure.startAdventure()}},{key:"start",value:function(){var e=this;if(this.state===n.Stopped||this.state===n.Launching){var t,a=Object(l["a"])(this.featureList);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.start()}}catch(r){a.e(r)}finally{a.f()}this._lastUpdate=(new Date).getTime()/1e3,this._tickInterval=setInterval((function(){return e.update()}),1e3*this.TICK_DURATION),this.state=n.Playing,console.debug("Game Started")}else this.printStateWarning("Cannot start the game twice.")}},{key:"pause",value:function(){this.state===n.Playing?(clearInterval(this._tickInterval),this.state=n.Paused,console.debug("Game Paused")):this.printStateWarning("Cannot pause the game if we're not playing.")}},{key:"resume",value:function(){var e=this;this.state===n.Paused?(this._lastUpdate=(new Date).getTime()/1e3,this._tickInterval=setInterval((function(){return e.update()}),1e3*this.TICK_DURATION),this.state=n.Playing,console.debug("Game Resumed")):this.printStateWarning("Cannot resume the game if we're not paused.")}},{key:"stop",value:function(){if(this.state!==n.Stopped){clearInterval(this._tickInterval);var e,t=Object(l["a"])(this.featureList);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.stop()}}catch(s){t.e(s)}finally{t.f()}this.state=n.Stopped,console.debug("Stopped")}else this.printStateWarning("Cannot stop the game if we're already stopped.")}},{key:"save",value:function(){var e,t={},a=Object(l["a"])(this.featureList);try{for(a.s();!(e=a.n()).done;){var n=e.value;t[n.saveKey]=n.save()}}catch(s){a.e(s)}finally{a.f()}d.store(this.SAVE_KEY,t),this._onSave.dispatch()}},{key:"deleteSave",value:function(){d.delete(this.SAVE_KEY)}},{key:"load",value:function(){var e=d.get(this.SAVE_KEY);if(null!=e){var t,a=Object(l["a"])(this.featureList);try{for(a.s();!(t=a.n()).done;){var n=t.value,s=e[n.saveKey];null!=s&&n.load(s)}}catch(r){a.e(r)}finally{a.f()}}}},{key:"printStateWarning",value:function(e){console.warn("Current state = ".concat(this.state,"."),e)}},{key:"featureList",get:function(){return Object.values(this.features)}},{key:"canAffordSuperPowers",value:function(){return this.features.wallet.hasCurrency(new H(this.features.superPowers.getTotalCosts(),u.Money))}}]),e}();(function(e){e["ShowSaveMessage"]="Show save message",e["ShowUnobtainedCards"]="Show unobtained cards"})(we||(we={}));var xe,Se=function(){function e(t,a,n,s){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new P;Object(c["a"])(this,e),this.id=t,this.displayName=a,this.options=n,this.defaultValue=s,this.value=s,this.requirement=r}return Object(o["a"])(e,[{key:"set",value:function(e){this.canAccess&&(this.validValue(e)?this.value=e:console.warn("".concat(e," is not a valid value for setting ").concat(this.id,". It could be that the option is not yet unlocked.")))}},{key:"validValue",value:function(e){var t=this.options.find((function(t){return t.value===e}));return!(void 0==t||!t.canAccess)}},{key:"isSelected",value:function(e){return this.value===e}},{key:"canAccess",get:function(){return this.requirement.isCompleted}}]),e}(),_e=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new P;Object(c["a"])(this,e),this.displayText=t,this.value=a,this.requirement=n}return Object(o["a"])(e,[{key:"canAccess",get:function(){return this.requirement.isCompleted}}]),e}(),Oe=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r){return Object(c["a"])(this,a),t.call(this,e,n,[new _e("On",!0),new _e("Off",!1)],s,r)}return Object(o["a"])(a,[{key:"toggle",value:function(){this.value=!this.value}}]),a}(Se),Ae=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.call(this,"settings"),e.list=[],e}return Object(o["a"])(a,[{key:"add",value:function(e){this.getSetting(e.id)||this.list.push(e)}},{key:"initialize",value:function(){this.add(new Oe(we.ShowUnobtainedCards,"Show unobtained cards",!1)),this.add(new Oe(we.ShowSaveMessage,"Show save message",!0))}},{key:"setSetting",value:function(e,t){var a=this.getSetting(e);a?a.set(t):console.warn("Setting ".concat(e," does not exist"))}},{key:"getSetting",value:function(e){for(var t=0;t<this.list.length;t++)if(this.list[t].id==e)return this.list[t];return console.warn("Setting ".concat(e," does not exist")),null}},{key:"load",value:function(e){var t,a=Object(l["a"])(e.list);try{for(a.s();!(t=a.n()).done;){var n,s=t.value;null===(n=this.getSetting(s.id))||void 0===n||n.set(s.value)}}catch(r){a.e(r)}finally{a.f()}}},{key:"save",value:function(){return{list:this.list.map((function(e){return{id:e.id,value:e.value}}))}}},{key:"getDeveloperPanelFields",value:function(){return[new y((function(){alert("test")}),"Test")]}}]),a}(k),je=function e(t,a){Object(c["a"])(this,e),this.id=t,this.description=a},Pe=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n){var s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(c["a"])(this,a),s=t.call(this,e,n),s.value=r,s}return a}(je),Te=function(){function e(){Object(c["a"])(this,e),this.list={}}return Object(o["a"])(e,[{key:"addStatistic",value:function(e,t){this.list[e]=t}}]),e}(),De=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s){var r;return Object(c["a"])(this,a),r=t.call(this,e,n),r.value=s,r}return a}(je),Le=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.call(this,"statistics"),e.list={},e}return Object(o["a"])(a,[{key:"initialize",value:function(e){var t=this;this.registerStatistic(new Pe(me.TotalMoneyGained,"Total money")),this.registerStatistic(new De(me.CardsPlayed,"Cards played",Array(fe.getCardCount()).fill(0))),this.registerStatistic(new De(me.CardsPlayedByLevel,"Cards played against you",Array(fe.getCardCount()).fill(0))),this.registerStatistic(new De(me.LevelsCompleted,"Levels completed",Array(ke.getLevelCount()).fill(0))),this.registerStatistic(new De(me.CardsPlayedPerType,"Card types played",Array(fe.getCardTypeCount()).fill(0))),e.wallet.onCurrencyGain.subscribe((function(e){e.type===u.Money&&t.incrementNumberStatistic(me.TotalMoneyGained,e.amount)})),this.registerAdventureSubscribers(e.adventure)}},{key:"registerAdventureSubscribers",value:function(e){var t=this;e.onCardPlayed.subscribe((function(e){t.incrementArrayStatistic(me.CardsPlayed,e,1),t.incrementArrayStatistic(me.CardsPlayedPerType,fe.getCard(e).cardType,1)})),e.onCardPlayedByLevel.subscribe((function(e){t.incrementArrayStatistic(me.CardsPlayedByLevel,e,1)})),e.onWin.subscribe((function(e){t.incrementArrayStatistic(me.LevelsCompleted,e.id,1)}))}},{key:"incrementNumberStatistic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.hasStatistic(e)){var a=this.list[e];a instanceof Pe&&(a.value+=t)}else console.warn("Could not find statistic with id ".concat(e))}},{key:"incrementArrayStatistic",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.hasStatistic(e)){var n=this.list[e];if(n instanceof De){var s=n.value[t]+a;n.value.splice(t,1,s)}}else console.warn("Could not find statistic with id ".concat(e))}},{key:"getStatistic",value:function(e){return this.hasStatistic(e)?this.list[e]:(console.warn("Could not find statistic with id ".concat(e)),null)}},{key:"hasStatistic",value:function(e){return e in this.list}},{key:"registerStatistic",value:function(e){this.list[e.id]=e}},{key:"load",value:function(e){for(var t in e.list)Object.prototype.hasOwnProperty.call(e.list,t)&&(this.hasStatistic(t)?this.list[t].value=e.list[t]:console.warn("Could not load statistic ".concat(t)))}},{key:"parseSaveData",value:function(e){var t=new Te,a=e.list;for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.addStatistic(n,a[n]);return t}},{key:"save",value:function(){var e=new Te;for(var t in this.list)e.addStatistic(t,this.list[t].value);return e}}]),a}(k),Me=(a("466d"),function(){function e(t,a){Object(c["a"])(this,e),this.displayName=t,this.deckString=a}return Object(o["a"])(e,[{key:"cardCount",get:function(){var e,t=null===(e=this.deckString.match(/\./g))||void 0===e?void 0:e.length;return t?t+1:0}}]),e}()),Ie=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e){var n;Object(c["a"])(this,a),n=t.call(this,"card-collection"),n.cards=[],n.deckPresets=[],n.MAX_CARD_AMOUNT=10,n.MIN_DECK_SIZE=15,n._onCardsGain=new C["SimpleEventDispatcher"];for(var s=fe.getAllCardsIds(),r=0;r<s.length;r++)n.cards.push(0);return n.deckPresets.push(new Me("First Deck","")),n.cardPacks=e,n._wallet=new _([]),n.currentDeck=new Z,n}return Object(o["a"])(a,[{key:"initialize",value:function(e){this._wallet=e.wallet}},{key:"canBuyCardPack",value:function(e){var t=this.getCardPack(e);return void 0!==t&&(!!t.buyable&&!!this._wallet.hasCurrency(t.cost))}},{key:"buyCardPack",value:function(e){var t=this.getCardPack(e);void 0!==t?t.buyable?this._wallet.payIfPossible(t.cost)&&this.openCardPack(e,3):console.warn("Card pack with id ".concat(e," is not buyable")):console.warn("Cannot find card pack with id ".concat(e))}},{key:"openCardPack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.getCardPack(e);if(void 0!==a){for(var n=[],s=0;s<t;s++)n.push(a.draw());this.gainCards(n,!0)}else console.warn("Cannot find card pack with if ".concat(e))}},{key:"getCardPack",value:function(e){return this.cardPacks.find((function(t){return t.id===e}))}},{key:"hasEnoughCards",value:function(){return this.currentDeck.getSize()>=this.MIN_DECK_SIZE}},{key:"currentDeckIsValid",value:function(){for(var e=0;e<this.cards.length;e++)if(this.currentDeck.cards[e]>this.cards[e])return!1;return!0}},{key:"selectAllCards",value:function(){for(var e=0;e<this.cards.length;e++)this.currentDeck.cards[e]=this.cards[e]}},{key:"gainCard",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Array(t).fill(e);this.gainCards(n,a)}},{key:"gainCards",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(l["a"])(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;this._gainCard(s)}}catch(i){n.e(i)}finally{n.f()}var r=e.map((function(e){return fe.getCard(e)}));a&&this._onCardsGain.dispatch(r)}},{key:"_gainCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.cards[e];if(void 0!==a){var n=Math.min(this.cards[e]+t,this.MAX_CARD_AMOUNT);this.cards.splice(e,1,n)}else console.warn("Card with id ".concat(e," does not exist"))}},{key:"getCardsWithAmount",value:function(){return this.cards.map((function(e,t){return[fe.getCard(t),e]}))}},{key:"getCardsWithAmountByType",value:function(e){return this.cards.map((function(t,a){var n=fe.getCard(a);if(n.cardType===e)return[n,t]})).filter((function(e){return null!=e}))}},{key:"emptyCurrentDeck",value:function(){this.currentDeck=new Z}},{key:"saveToPreset",value:function(e){this.deckPresets[e].deckString=this.currentDeck.toDeckString()}},{key:"loadFromPreset",value:function(e){this.currentDeck=Z.fromDeckString(this.deckPresets[e].deckString)}},{key:"lowestEmptyPresetIndex",get:function(){for(var e=this.deckPresets.length-1;e>=0;e--)if(""!=this.deckPresets[e].deckString)return e;return this.deckPresets.length}},{key:"onCardsGain",get:function(){return this._onCardsGain.asEvent()}},{key:"load",value:function(e){var t,a,n,s=null!==(t=e.cards)&&void 0!==t?t:[],r=Object(l["a"])(s);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.cards[i.id]=i.amount}}catch(d){r.e(d)}finally{r.f()}if(this.deckPresets=[],e.presets&&0!=e.presets.length){var c,o=Object(l["a"])(e.presets);try{for(o.s();!(c=o.n()).done;){var u=c.value;this.deckPresets.push(new Me(u.displayName,u.deckString))}}catch(d){o.e(d)}finally{o.f()}}else this.deckPresets.push(new Me("First Deck",""));this.currentDeck=null!==(a=fe.getIdDeckFromString(e.currentDeck))&&void 0!==a?a:new Z}},{key:"save",value:function(){var e=[];this.cards.forEach((function(t,a){e.push({id:a,amount:t})}));var t=[];return this.deckPresets.forEach((function(e){t.push({displayName:e.displayName,deckString:e.deckString})})),{cards:e,currentDeck:this.currentDeck.toDeckString(),presets:t}}}]),a}(k),qe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(c["a"])(this,e),this.outcomes=t}return Object(o["a"])(e,[{key:"outcomesWithMetRequirements",value:function(){return this.outcomes.filter((function(e){return e.canGet()}))}},{key:"draw",value:function(){if(0===this.outcomesWithMetRequirements().length)throw new Error("Cannot draw from empty distribution");var e,t=this.getTotalWeight(),a=V.floatBetween(0,t),n=0,s=Object(l["a"])(this.outcomesWithMetRequirements());try{for(s.s();!(e=s.n()).done;){var r=e.value;if(n+=r.weight,a<=n)return r.item}}catch(i){s.e(i)}finally{s.f()}return console.error("Could not draw an item for random ".concat(a,". This should never happen")),V.fromArray(this.outcomesWithMetRequirements()).item}},{key:"getTotalWeight",value:function(){var e,t=0,a=Object(l["a"])(this.outcomesWithMetRequirements());try{for(a.s();!(e=a.n()).done;){var n=e.value;t+=n.weight}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"addOutcome",value:function(e){this.outcomes.push(e)}},{key:"removeOutcome",value:function(e){var t=this.outcomes.indexOf(e);-1!==t&&this.outcomes.splice(t,1)}}]),e}(),ze=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n){var s,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(c["a"])(this,a),s=t.call(this,i),s.id=e,s.cost=n,s.buyable=r,s}return a}(qe),Ee=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new P;Object(c["a"])(this,e),this.item=t,this.weight=a,this.requirement=n}return Object(o["a"])(e,[{key:"canGet",value:function(){return this.requirement.isCompleted}}]),e}(),Be=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ee("Training Sword",1,0),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G.Stone,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:G.Stone,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:G.Stone;Object(c["a"])(this,e),this.startingCards=t,this.health=a,this.activeAxe=s,this.activePickaxe=r,this.activeScythe=i,this.activeWeapon=n}return Object(o["a"])(e,[{key:"attackFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?0:this.getDefense(),n=Math.max(0,e-a);this.health-=n}},{key:"getWoodCuttingDamage",value:function(){return 1+this.activeAxe}},{key:"getMiningDamage",value:function(){return 1+this.activePickaxe}},{key:"getForagingDamage",value:function(){return 1+this.activeScythe}},{key:"getAttack",value:function(){return this.activeWeapon.attack}},{key:"getDefense",value:function(){return this.activeWeapon.defense}}]),e}(),Fe=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"isCompleted",get:function(){return!1}},{key:"actualValue",get:function(){return 0}},{key:"hint",get:function(){return"Impossible to complete"}},{key:"targetValue",get:function(){return 1}}]),a}(j),Ge=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.call(this,new R,new pe(-1,"","","",0,[],new Fe),new Be(5,10))}return a}(E),Ne=function(){function e(t,a,n,s){Object(c["a"])(this,e),this.costs=a,this.description=t,this.level=0,this.bonuses=n,this.descriptions=s}return Object(o["a"])(e,[{key:"maxLevel",get:function(){return this.costs.length-1}},{key:"value",get:function(){return this.bonuses[this.level]}},{key:"valueText",get:function(){return this.descriptions[this.level]}},{key:"cost",get:function(){return this.costs[this.level]}}]),e}(),We=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.call(this,"super-powers"),e.scythe=new Ne("Scythe",[0,250,1e3,2e3],[0,1,2,3,4],["Stone","Bronze","Silver","Gold"]),e.axe=new Ne("Axe",[0,250,1e3,2e3],[0,1,2,3,4],["Stone","Bronze","Silver","Gold"]),e.pickaxe=new Ne("Pick",[0,250,1e3,2e3],[0,1,2,3,4],["Stone","Bronze","Silver","Gold"]),e.health=new Ne("Base health",[0,250,1e3,2e3],[30,40,50,60],["30","40","50","60"]),e.startingCards=new Ne("Starting Cards",[0,200,500],[5,6,7],["5","6","7"]),e}return Object(o["a"])(a,[{key:"getPlayerStats",value:function(){return new Be(this.startingCards.value,this.health.value,new ee("Training Sword",1,0),this.axe.value,this.pickaxe.value,this.scythe.value)}},{key:"getTotalCosts",value:function(){return this.scythe.cost+this.pickaxe.cost+this.axe.cost+this.health.cost+this.startingCards.cost}},{key:"load",value:function(){}},{key:"save",value:function(){return{}}}]),a}(k),He=function(){function e(t,a,n,s,r){Object(c["a"])(this,e),this.key=t,this.title=a,this.description=n,this.image=s,this.requirement=r,this.unlocked=!1}return Object(o["a"])(e,[{key:"unlock",value:function(){return!this.unlocked&&(this.unlocked=!0,!0)}},{key:"requirementsCompleted",value:function(){return this.requirement.isCompleted}},{key:"getProgress",value:function(){return this.requirement.progress}}]),e}();(function(e){e["PlayedGobletOfFire"]="played-goblet-of-fire",e["PlayedFrozen2"]="played-frozen-2",e["EnemyPlayedForestFire"]="enemy-played-forest-fire",e["AtLeastOneSuperPower"]="at-least-one-superpower",e["AllSuperPowers"]="all-super-powers",e["TotalMoney100"]="100-total-money",e["TotalMoney1000"]="1000-total-money",e["TotalMoney10000"]="10000-total-money",e["FirstLevelCompleted"]="first-level-completed",e["WizardLevelCompleted"]="farm-level-completed",e["FarmLevelCompleted"]="wizard-level-completed",e["DragonLevelCompleted"]="dragon-level-completed",e["SpiderLevelCompleted"]="spider-level-completed",e["TrollLevelCompleted"]="troll-level-completed",e["NecromancerLevelCompleted"]="necromancer-level-completed",e["Played100Resources"]="played-100-resources",e["Played100Monsters"]="played-100-monsters",e["Played100Actions"]="played-100-actions",e["Played100Curses"]="played-100-curses",e["Played100Tools"]="played-100-tools"})(xe||(xe={}));var Ve,Re=function(){function e(){Object(c["a"])(this,e),this.list=[]}return Object(o["a"])(e,[{key:"addAchievement",value:function(e){this.list.push(e)}}]),e}(),$e=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.call(this),e.isSet=!1,e}return Object(o["a"])(a,[{key:"forceCompletion",value:function(){this.isSet=!0}},{key:"isCompleted",get:function(){return this.isSet}},{key:"actualValue",get:function(){return this.isSet?this.targetValue:0}},{key:"hint",get:function(){return"Can only be manually completed"}},{key:"targetValue",get:function(){return 1}}]),a}(j),Ue=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n,s,r){return Object(c["a"])(this,a),t.call(this,e,n,s,r,new $e)}return Object(o["a"])(a,[{key:"forceComplete",value:function(){this.requirement.forceCompletion()}}]),a}(He),Ke=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(e,n){var s;return Object(c["a"])(this,a),s=t.call(this),s.statistic=e,s.targetValue=n,s}return Object(o["a"])(a,[{key:"getTargetValue",value:function(){return this.targetValue}},{key:"actualValue",get:function(){return this.statistic.value}},{key:"hint",get:function(){return"The statistic ".concat(this.statistic.description," needs to be at least ").concat(this.targetValue)}}]),a}(j),Ye=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.call(this,"achievements"),e.name="Achievements",e.saveKey="achievements",e.ACHIEVEMENT_CHECK_TIME=2,e.checkCounter=0,e._onUnlock=new C["SimpleEventDispatcher"],e.list={},e}return Object(o["a"])(a,[{key:"onUnlock",get:function(){return this._onUnlock.asEvent()}},{key:"initialize",value:function(e){this.registerAchievement(new He(xe.Played100Resources,"As far as the eye can see","Play 100 Resource cards","cards/forest.svg",new ye(e.statistics.getStatistic(me.CardsPlayedPerType),v.Resource,100))),this.registerAchievement(new He(xe.Played100Actions,"So many souls wasted","Play 100 Action cards","orbs/souls.svg",new ye(e.statistics.getStatistic(me.CardsPlayedPerType),v.Action,100))),this.registerAchievement(new He(xe.Played100Tools,"Isn't it Iron Pick?","Play 100 Tool cards","cards/pickaxe-gold.svg",new ye(e.statistics.getStatistic(me.CardsPlayedPerType),v.Tool,100))),this.registerAchievement(new He(xe.Played100Curses,"Why, just why?","Use a curse on yourself","cards/troll.svg",new ye(e.statistics.getStatistic(me.CardsPlayedPerType),v.Curse,1))),this.registerAchievement(new He(xe.Played100Monsters,"Straight to the slaughter","Play 100 Monster cards","cards/chicken.svg",new ye(e.statistics.getStatistic(me.CardsPlayedPerType),v.Monster,100))),this.registerAchievement(new He(xe.PlayedGobletOfFire,"Dumbledore asked calmly","Play the Goblet of Fire card","cards/chalice-red.svg",new ye(e.statistics.getStatistic(me.CardsPlayed),I.ChaliceMedium,1))),this.registerAchievement(new He(xe.PlayedFrozen2,"Just let it go","Play the Frozen 2 Blast card","cards/freeze-purple.svg",new ye(e.statistics.getStatistic(me.CardsPlayed),I.FreezeMonstersMedium,1))),this.registerAchievement(new He(xe.EnemyPlayedForestFire,"Boy or Girl?","Have your wood resources burned down","cards/forest-fire.svg",new ye(e.statistics.getStatistic(me.CardsPlayedByLevel),I.ForestFire,1))),this.registerAchievement(new Ue(xe.AtLeastOneSuperPower,"I wonder what inspired this feature","Go on an Adventure with at least one bonus","cards/hatchet-bronze.svg")),this.registerAchievement(new He(xe.TotalMoney100,"It's something","Gain 100 money in total","coins.svg",new Ke(e.statistics.getStatistic(me.TotalMoneyGained),100))),this.registerAchievement(new He(xe.TotalMoney1000,"It's a bit more","Gain 1000 money in total","coins.svg",new Ke(e.statistics.getStatistic(me.TotalMoneyGained),1e3))),this.registerAchievement(new He(xe.TotalMoney10000,"This is where the fun begins","Gain 10000 money in total","coins.svg",new Ke(e.statistics.getStatistic(me.TotalMoneyGained),1e4))),this.registerAchievement(new He(xe.FirstLevelCompleted,"Nobody — calls me — chicken.","Complete the first level","cards/chicken.svg",new ye(e.statistics.getStatistic(me.LevelsCompleted),W.TutorialLevel,1))),this.registerAchievement(new He(xe.FarmLevelCompleted,"Won't somebody think of the animals?","Complete the The Farm level","cards/farmer.svg",new ye(e.statistics.getStatistic(me.LevelsCompleted),W.TheFarm,1))),this.registerAchievement(new He(xe.SpiderLevelCompleted,"Poor Aragog","Complete the The Spiders Den","cards/spider-large.svg",new ye(e.statistics.getStatistic(me.LevelsCompleted),W.SpidersDen,1))),this.registerAchievement(new He(xe.TrollLevelCompleted,"And it wasn't even in the dungeon...","Complete the The Troll level","cards/troll.svg",new ye(e.statistics.getStatistic(me.LevelsCompleted),W.TheTroll,1))),this.registerAchievement(new He(xe.WizardLevelCompleted,"No thanks I'm stuffed","Complete the The Wizard level","cards/bread.svg",new ye(e.statistics.getStatistic(me.LevelsCompleted),W.TheWizard,1))),this.registerAchievement(new He(xe.DragonLevelCompleted,"She wasn't a big negotiator","Complete the Dragons Den","cards/dragon.svg",new ye(e.statistics.getStatistic(me.LevelsCompleted),W.TheDragon,1))),this.registerAchievement(new He(xe.NecromancerLevelCompleted,"Ah so it is possible","Complete the The Necromancer level","cards/skeleton-king.svg",new ye(e.statistics.getStatistic(me.LevelsCompleted),W.TheNecromancer,1))),this.registerAdventureSubscribers(e)}},{key:"registerAdventureSubscribers",value:function(e){var t=this;e.adventure.onStart.subscribe((function(){if(e.superPowers.getTotalCosts()>0){var a=t.getAchievement(xe.AtLeastOneSuperPower);a.forceComplete()}}))}},{key:"update",value:function(e){this.checkCounter+=e,this.checkCounter>=this.ACHIEVEMENT_CHECK_TIME&&(this.checkForAchievementsCompleted(),this.checkCounter=0)}},{key:"checkForAchievementsCompleted",value:function(){for(var e in this.list){var t=this.list[e];if(t.requirementsCompleted()){var a=t.unlock();a&&this._onUnlock.dispatch(t)}}}},{key:"registerAchievement",value:function(e){this.list[e.key]=e}},{key:"getAchievement",value:function(e){return this.hasAchievement(e)?this.list[e]:(console.warn("Could not find achievement with key ".concat(e)),null)}},{key:"hasAchievement",value:function(e){return e in this.list}},{key:"load",value:function(e){var t,a=Object(l["a"])(e.list);try{for(a.s();!(t=a.n()).done;){var n=t.value,s=this.getAchievement(n);null!==s&&(s.unlocked=!0)}}catch(r){a.e(r)}finally{a.f()}}},{key:"save",value:function(){var e=new Re;for(var t in this.list)this.list[t].unlocked&&e.addAchievement(t);return e}}]),a}(k),Qe=function(){function e(t,a,n,s){Object(c["a"])(this,e),this.id=t,this.title=a,this.description=n,this.currentTurn=s}return Object(o["a"])(e,[{key:"restart",value:function(){this.currentTurn=0}}]),e}();(function(e){e[e["Dummy"]=0]="Dummy"})(Ve||(Ve={}));var Ze=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){return Object(c["a"])(this,a),t.call(this,Ve.Dummy,"Dummy Strategy",'A basic algorithm I coded up, it tries its best.\nIt Taps monsters if they exist, and draws when its hand is empty\nYou can view the code <a class="text-blue-500" target="_blank" href="https://github.com/123ishaTest/CardQuest/blob/master/src/card-quest/features/automation/DummyStrategy.ts"/>Here!</a>',0)}return Object(o["a"])(a,[{key:"performAction",value:function(e){this.currentTurn++;for(var t=!1,a=0;a<e.playerHand.length;a++)e.playerHand[a].canPlay(e)&&e.playerHand[a].canAfford(e.wallet)&&(t=!0);var n=!!e.field[0];if(!t&&!n||e.handSpace>4&&V.booleanWithProbability(.5))return e.playerDeck.isEmpty()?void e.wait():void e.draw();for(var s=0;s<e.field.length;s++)if(e.field[s].cardType===v.Monster)return void e.tap(s);for(var r=0;r<e.playerHand.length;r++)if(e.playerHand[r].canPlay(e)&&e.playerHand[r].canAfford(e.wallet))return void e.play(r);e.tap(0)}}]),a}(Qe),Xe=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.call(this,"automation"),e.AUTOMATION_INTERVAL=1,e._nextTick=e.AUTOMATION_INTERVAL,e._adventure=void 0,e.isActive=!1,e.strategies=[new Ze],e.selectedStrategy=Ve.Dummy,e.selectedLevel=W.TutorialLevel,e.requirement=new P,e}return Object(o["a"])(a,[{key:"registerAdventure",value:function(e){this._adventure=e}},{key:"initialize",value:function(e){this.requirement=new be(e.statistics.getStatistic(me.LevelsCompleted),W.TheWizard,1)}},{key:"canAccess",value:function(){return this.requirement.isCompleted}},{key:"update",value:function(e){var t;this.isActive&&(this._nextTick-=e,this._nextTick<=0&&(this.performAutomation(),this._nextTick=this.AUTOMATION_INTERVAL,null!==(t=this._adventure)&&void 0!==t&&t.isActive||et.game.goOnAnAdventure(this.selectedLevel)))}},{key:"performAutomation",value:function(){void 0!=this._adventure&&this.isActive&&this._adventure.isActive&&this.strategies[this.selectedStrategy].performAction(this._adventure)}},{key:"load",value:function(){}},{key:"save",value:function(){return{}}}]),a}(k),Je=function(e){Object(g["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.call(this,"level-editor"),e.MAX_SIZE=10,e.currentCards=[],e.name="",e.description="",e.currentCards=[],e.resetToDefault(),e}return Object(o["a"])(a,[{key:"resetToDefault",value:function(){this.currentCards=[];for(var e=0;e<this.MAX_SIZE;e++)this.currentCards.push([0,-1])}},{key:"toLevelString",value:function(){return this.getCleanLevel().map((function(e){return"".concat(e[0],":").concat(e[1])})).join(".")}},{key:"fromLevelString",value:function(e){for(var t=e.split("."),a=t.map((function(e){var t=e.split(":"),a=parseInt(t[0])||0,n=parseInt(t[1])||-1;return[a,n]})),n=0;n<this.MAX_SIZE;n++)a[n]&&this.currentCards.splice(n,1,[a[n][0],a[n][1]])}},{key:"getCleanLevel",value:function(){return this.currentCards.filter((function(e){return e[0]>0&&-1!==e[1]})).sort((function(e,t){return e[0]-t[0]}))}},{key:"getLevel",value:function(){try{var e=this.getCleanLevel().map((function(e){return[e[0],fe.getCard(e[1])]}));return new pe(-1,this.name,this.description,ge.BeginnerPack,0,e,new P)}catch(t){return null}}},{key:"load",value:function(){}},{key:"save",value:function(){return{}}}]),a}(k),et=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,null,[{key:"start",value:function(){this.game=this.getDefaultGame(),this.game.initialize(),this.game.load(),this.game.start()}},{key:"getDefaultGame",value:function(){var e=new Ce({wallet:new _([u.Money,u.Souls,u.Grain,u.Wood,u.Bronze,u.Silver,u.Gold]),settings:new Ae,statistics:new Le,adventure:new Ge,automation:new Xe,collection:new Ie([new ze(ge.BeginnerPack,new H(100,u.Money),!0,[new Ee(I.BronzeAxe,1),new Ee(I.LogCard,2),new Ee(I.SmallGrain,2),new Ee(I.Bread,2)]),new ze(ge.BronzeTierPack,new H(200,u.Money),!0,[new Ee(I.BronzeAxe,1),new Ee(I.InstantDamagePlayerSmall,1),new Ee(I.BronzePickaxe,1),new Ee(I.BronzeScythe,1),new Ee(I.LogCard,3),new Ee(I.BronzeOre,3),new Ee(I.SmallGrain,3),new Ee(I.BasicSword,3),new Ee(I.BronzeSword,3),new Ee(I.Bread,3)]),new ze(ge.SilverTierPack,new H(500,u.Money),!0,[new Ee(I.SilverAxe,1),new Ee(I.SilverPickaxe,1),new Ee(I.InstantDamagePlayerMedium,1),new Ee(I.SilverScythe,1),new Ee(I.TreeCard,3),new Ee(I.FreezeMonstersSmall,1),new Ee(I.SilverOre,3),new Ee(I.MediumGrain,3),new Ee(I.SilverSword,3),new Ee(I.CrackedShield,1),new Ee(I.ChaliceSmall,1)]),new ze(ge.GoldTierPack,new H(800,u.Money),!0,[new Ee(I.GoldAxe,1),new Ee(I.GoldPickaxe,1),new Ee(I.GoldScythe,1),new Ee(I.InstantDamagePlayerLarge,1),new Ee(I.ForestCard,3),new Ee(I.GoldOre,3),new Ee(I.GoldSword,1),new Ee(I.FreezeMonstersMedium,1),new Ee(I.VikingShield,1),new Ee(I.ChaliceMedium,1)]),new ze(ge.ActionCardPack,new H(300,u.Money),!0,[new Ee(I.MagicTouch,1),new Ee(I.SacrificeHand,.5),new Ee(I.Draw3Card,1),new Ee(I.LoseTurnsSmall,.6),new Ee(I.LoseTurnsMedium,.3),new Ee(I.LoseTurnsLarge,.2),new Ee(I.FreezeMonstersSmall,.2),new Ee(I.InstantDamagePlayerSmall,.4),new Ee(I.InstantDamagePlayerMedium,.4)]),new ze(ge.FarmPack,new H(150,u.Money),!0,[new Ee(I.Pig,1),new Ee(I.Chicken,1),new Ee(I.Cow,1),new Ee(I.Farmer,1)]),new ze(ge.MonsterPack,new H(200,u.Money),!0,[new Ee(I.Skeleton,1),new Ee(I.LandMine,.5),new Ee(I.Farmer,1),new Ee(I.Chicken,1),new Ee(I.Dragon,1)]),new ze(ge.CursePack,new H(125,u.Money),!0,[new Ee(I.InstantDamageSmall,1),new Ee(I.InstantDamageMedium,1),new Ee(I.InstantDamageLarge,1),new Ee(I.DiscardHand,1),new Ee(I.ForestFire,1),new Ee(I.RodOfAsclepius,1)]),new ze(ge.Legendary,new H(1e3,u.Money),!0,[new Ee(I.VikingShield,1),new Ee(I.SacrificeHand,1),new Ee(I.ChaliceMedium,1),new Ee(I.ChaliceLarge,1),new Ee(I.InstantDamagePlayerLarge,1)])]),editor:new Je,superPowers:new We,achievements:new Ye});return e.features.collection.gainCard(I.LogCard,5),e.features.collection.gainCard(I.BronzeOre,5),e.features.collection.gainCard(I.SmallGrain,4),e.features.collection.gainCard(I.BasicSword,1),e.features.collection.gainCard(I.BronzeSword,1),e.features.collection.gainCard(I.Chicken,1),e.features.collection.gainCard(I.FreezeMonstersSmall,1),e.features.collection.gainCard(I.Draw3Card,3),e.features.collection.gainCard(I.MagicTouch,3),e.features.collection.gainCard(I.Bread,2),e.features.collection.selectAllCards(),e}}]),e}(),tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isActive?a("div",{staticClass:"feature-tab"},[a("div",{staticClass:"flex flex-row"},[a("cq-level-progress",{staticClass:"w-64",attrs:{level:e.adventure.level,"current-turn":e.adventure.currentTurn,"show-current-turn":!0,"first-card-large":!0}}),a("div",{staticClass:"flex-auto overflow-hidden items-center"},[0===e.adventure.level.id?a("div",{staticClass:"bg-red-300 p-4"},[e._v(" The field, monsters here will attack you. Click on a monster to attack it! Click on a resource to gather it! ")]):e._e(),a("div",{staticClass:"overflow-x-auto bg-cq-charcoal"},[a("div",{staticClass:"h-80 shadow-lg p-4 flex flex-row items-center"},[a("div",{staticClass:"flex flex-row"},e._l(e.field,(function(t,n){return a("div",{key:"field-"+t.id+"-"+n},[-1===t.id?a("cq-card-placeholder"):a("cq-card",{attrs:{card:t,"is-in-hand":!1},nativeOn:{click:function(t){return e.tap(n)}}})],1)})),0)])]),a("cq-player-stats",{attrs:{stats:e.adventure.playerStats,wallet:e.adventure.wallet}}),0===e.adventure.level.id?a("div",{staticClass:"bg-red-300 p-4"},[e._v(" Your hand, click on a card to play it. Shift+click to discard. ")]):e._e(),a("div",{staticClass:"overflow-x-auto bg-cq-charcoal"},[a("div",{staticClass:"h-80 h-full shadow-lg p-4 flex flex-row items-center"},[a("div",{staticClass:"flex flex-row"},e._l(e.hand,(function(t,n){return a("cq-card",{key:"hand-"+t.id+"-"+n,class:{invisible:-1===t.id},attrs:{"is-in-hand":!0,"can-afford":t.canAfford(e.adventure.wallet),"is-disabled":!t.canPlay(e.adventure)||!t.canAfford(e.adventure.wallet),card:t},nativeOn:{click:function(t){return e.play(n,t)}}})})),1)])]),a("div",{staticClass:"flex flex-row items-center"},[a("button",{staticClass:"btn btn-green",attrs:{disabled:!e.canDraw},on:{click:e.draw}},[a("span",[e._v("Draw (D) ("+e._s(e.deckSize)+")")])]),a("button",{staticClass:"btn btn-blue",on:{click:e.wait}},[e._v("Wait (W)")]),a("button",{staticClass:"btn btn-red",on:{click:e.forfeit}},[e._v("Forfeit (Q)")]),e.automation.canAccess()?a("div",{staticClass:"flex flex-row items-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.automation.isActive,expression:"automation.isActive"}],staticClass:"input-primary w-4 h-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.automation.isActive)?e._i(e.automation.isActive,null)>-1:e.automation.isActive},on:{change:function(t){var a=e.automation.isActive,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);n.checked?i<0&&e.$set(e.automation,"isActive",a.concat([r])):i>-1&&e.$set(e.automation,"isActive",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.automation,"isActive",s)}}}),a("p",{staticClass:"text-lg font-semibold ml-2",class:e.automation.isActive?"text-green-500":"text-red-500"},[e._v(" Automation "+e._s(e.automation.isActive?"Active":"Inactive"))])]):e._e()])],1)],1)]):e._e()},at=[],nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-48 h-72 p-2 m-2 border-2 flex flex-col shadow-md",class:[e.colorClass,{"opacity-50":e.isDisabled,"cursor-pointer":e.canClick,"transition duration-300 ease-out transform hover:-translate-y-1 hover:scale-110":e.canHover}],attrs:{id:"playable-card"}},[n("div",{staticClass:"flex-grow"},[n("p",{staticClass:"text-black"},[e._v(e._s(e.card.title))]),n("hr"),e.showFront?n("div",[n("img",{staticClass:"card-image",attrs:{src:a("6863")("./"+e.card.image),alt:e.card.image}}),n("p",{staticClass:"text-sm italic whitespace-pre-line text-black "},[e._v(" "+e._s(e.card.description)+" ")])]):n("div",[n("img",{staticClass:"card-image",attrs:{src:a("6863")("./"+e.card.image),alt:e.card.image}})])]),n("div",{staticClass:"flex flex-row justify-between"},[e.card.weapon?n("cq-orb",{attrs:{svg:"sword.svg",value:e.card.weapon.attack+"/"+e.card.weapon.defense}}):e._e(),e._l(e.card.costs,(function(t){return n("cq-orb",{key:t.toString(),class:{"text-red-500":!e.canAfford&&e.isInHand},attrs:{svg:t.type.toLowerCase()+".svg",value:-t.amount}})})),e.card.health?n("cq-orb",{attrs:{svg:"heart.svg",value:e.card.health}}):e._e(),e.card.frozenCooldown?n("cq-orb",{attrs:{svg:"ice.svg",value:e.card.frozenCooldown}}):e._e(),!e.card.frozenCooldown&&e.card.nextAttack?n("cq-orb",{attrs:{svg:"clock.svg",value:e.card.nextAttack}}):e._e(),e.card.attack||e.card.defense?n("cq-orb",{attrs:{svg:"sword.svg",value:e.card.attack+"/"+e.card.defense}}):e._e()],2)])},st=[],rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative text-center text-white w-12"},[n("img",{attrs:{src:a("b165")("./"+e.svg),alt:e.svg}}),n("div",{staticClass:"centered text-2xl font-semibold stroke"},[e._v(" "+e._s(e.formattedValue)+" ")])])},it=[],ct={name:"cq-orb",props:{svg:{type:String,required:!0},value:{required:!0}},computed:{formattedValue:function(){return this.value===1/0?"∞":this.value===-1/0?"-∞":this.value}}},ot=ct,lt=(a("6204"),a("2877")),ut=Object(lt["a"])(ot,rt,it,!1,null,"441ba894",null),dt=ut.exports,vt={name:"cq-card",components:{CqOrb:dt},data:function(){return{defaultImg:"require('@/assets/logo.png')",CurrencyType:u}},props:{card:{type:q,required:!0},isDisabled:{type:Boolean,default:!1},canClick:{type:Boolean,default:!0},canHover:{type:Boolean,default:!0},isInHand:{type:Boolean,required:!0},showFront:{type:Boolean,default:!0},canAfford:{type:Boolean,default:!1}},computed:{colorClass:function(){switch(this.card.cardType){case v.Tool:return"bg-gray-400";case v.Action:return"bg-purple-400";case v.Resource:return"bg-green-400";case v.Curse:return"bg-yellow-400";case v.Monster:return"bg-red-400";default:return"bg-blue-400"}}},mounted:function(){var e=this;this.isInHand||this.card.cardType!==v.Monster||this.card.onAttack.subscribe((function(){e.$el.classList.add("shake"),setTimeout((function(){e.$el.classList.remove("shake")}),350)}))}},ht=vt,ft=(a("9c75"),Object(lt["a"])(ht,nt,st,!1,null,"1c4b1c6e",null)),gt=ft.exports,pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-row p-2 items-center"},[n("cq-orb",{staticClass:"m-2",attrs:{title:"When this reaches 0, you are defeated",svg:"heart.svg",value:e.health}}),n("p",{staticClass:"text-white font-semibold"},[e._v(e._s(e.stats.activeWeapon.name))]),n("cq-orb",{staticClass:"m-2",attrs:{title:"You have "+e.attack+" attack and "+e.defense+" defense",svg:"sword.svg",value:e.attack+"/"+e.defense}}),n("img",{staticClass:"m-2 w-12 h-12",attrs:{title:e.ToolTier[e.stats.activeAxe]+" Axe",src:a("5a8f")("./hatchet-"+e.ToolTier[e.stats.activeAxe].toLowerCase()+".svg")}}),n("img",{staticClass:"m-2 w-12 h-12",attrs:{title:e.ToolTier[e.stats.activePickaxe]+" Pickaxe",src:a("eca3")("./pickaxe-"+e.ToolTier[e.stats.activePickaxe].toLowerCase()+".svg")}}),n("img",{staticClass:"m-2 w-12 h-12",attrs:{title:e.ToolTier[e.stats.activeScythe]+" Scythe",src:a("79ed")("./scythe-"+e.ToolTier[e.stats.activeScythe].toLowerCase()+".svg")}}),n("cq-orb",{staticClass:"m-2",attrs:{title:"Use wood to craft items!",svg:"wood.svg",value:e.wallet.wood}}),n("cq-orb",{staticClass:"m-2",attrs:{title:"Use food to heal up!",svg:"grain.svg",value:e.wallet.grain}}),n("cq-orb",{staticClass:"m-2",attrs:{title:"Use souls to play action cards!",svg:"souls.svg",value:e.wallet.souls}}),n("cq-orb",{staticClass:"m-2",attrs:{title:"Use bronze to upgrade tools!",svg:"bronze.svg",value:e.wallet.bronze}}),n("cq-orb",{staticClass:"m-2",attrs:{title:"Use silver to upgrade tools!",svg:"silver.svg",value:e.wallet.silver}}),n("cq-orb",{staticClass:"m-2",attrs:{title:"Use silver to upgrade tools",svg:"gold.svg",value:e.wallet.gold}})],1)},mt=[],yt={name:"cq-player-stats",components:{CqOrb:dt},data:function(){return{ToolTier:G}},props:{stats:{type:Be,required:!0},wallet:{type:_,required:!0}},computed:{health:function(){return this.stats.health},attack:function(){return this.stats.getAttack()},defense:function(){return this.stats.getDefense()}}},bt=yt,wt=Object(lt["a"])(bt,pt,mt,!1,null,"0662f97c",null),kt=wt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-4"},[0===e.level.id&&e.showCurrentTurn?n("div",{staticClass:"bg-red-300 p-4"},[e._v(" Here you can see the cards that the enemy will play next. Prepare yourself! ")]):e._e(),e.showCurrentTurn?n("p",{staticClass:"text-lg text-white"},[e._v("Turn "+e._s(e.currentTurn))]):e._e(),n("hr"),n("div",{staticClass:"flex flex-col mt-2"},e._l(e.futureCards,(function(t,s){return n("div",{key:t[0]},[n("div",{staticClass:"flex flex-row justify-between items-center has-tooltip"},[n("cq-orb",{attrs:{value:t[0]-e.currentTurn,svg:"clock.svg"}}),n("div",{staticClass:"m-2 text-white"},[e._v(e._s(t[1].title)+" ")]),n("img",{staticClass:"w-8 h-8 inline",attrs:{title:t[1].description,src:a("6863")("./"+t[1].image)}}),n("cq-card",{staticClass:"tooltip ml-48",attrs:{card:t[1],"is-in-hand":!1,"can-hover":!1,"can-click":!1}})],1),0===s&&e.firstCardLarge?n("cq-card",{class:{shake:t[0]===e.currentTurn+1},attrs:{card:t[1],"is-in-hand":!1,"can-hover":!1,"can-click":!1}}):e._e()],1)})),0)])},xt=[],St=(a("a9e3"),{name:"cq-level-progress",components:{CqOrb:dt,CqCard:gt},props:{level:{type:pe,required:!0},showCurrentTurn:{type:Boolean,required:!0},currentTurn:{type:Number,required:!0},firstCardLarge:{type:Boolean,default:!1}},computed:{futureCards:function(){return this.level.getFutureCards(this.currentTurn)},firstCard:function(){return this.level.getNextCard(this.currentTurn)}}}),_t=St,Ot=Object(lt["a"])(_t,Ct,xt,!1,null,"013e8efe",null),At=Ot.exports,jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-48 h-72 p-2 m-2 border-2 flex flex-col",attrs:{id:"playable-card"}})},Pt=[],Tt={name:"cq-card-placeholder"},Dt=Tt,Lt=Object(lt["a"])(Dt,jt,Pt,!1,null,null,null),Mt=Lt.exports,It={name:"cq-adventure",components:{CqLevelProgress:At,CqCardPlaceholder:Mt,CqPlayerStats:kt,CqCard:gt},data:function(){return{adventure:et.game.features.adventure,automation:et.game.features.automation}},methods:{draw:function(){this.adventure.draw()},wait:function(){this.adventure.wait()},forfeit:function(){this.adventure.forfeit()},play:function(e,t){t.shiftKey?this.adventure.discard(e):this.adventure.playerHand[e].canPlay(this.adventure)&&this.adventure.play(e)},tap:function(e){this.adventure.tap(e)}},computed:{hand:function(){return this.adventure.playerHand},isActive:function(){return this.adventure.isActive},field:function(){return this.adventure.field},deckSize:function(){return this.deck.getSize()},deck:function(){return this.adventure.playerDeck},canDraw:function(){return this.adventure.canDraw()}}},qt=It,zt=Object(lt["a"])(qt,tt,at,!1,null,"3a0fa8d6",null),Et=zt.exports,Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feature-tab"},[a("cq-pack-shop",{attrs:{packs:e.collection.cardPacks,collection:e.collection}}),e.hasEnoughCards?e._e():a("p",{staticClass:"text-2xl font-semibold text-red-400"},[e._v("You need at least "+e._s(e.collection.MIN_DECK_SIZE)+" cards in your deck to start a level")]),e.deckIsValid?e._e():a("p",{staticClass:"text-2xl font-semibold text-red-400"},[e._v(" Your current deck is invalid. Have you imported a deck with cards you do not have? ")]),a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"flex-auto"},[a("div",{staticClass:"flex flex-row flex-wrap"},[a("igt-tabs",{attrs:{"header-class":"bg-cq-charcoal"}},[a("igt-tab",{attrs:{name:"All",selected:!0}},[a("cq-card-selection-list",{attrs:{"current-deck":e.currentDeck,cards:e.displayableCards}})],1),a("igt-tab",{attrs:{name:"Actions"}},[a("cq-card-selection-list",{attrs:{"current-deck":e.currentDeck,cards:e.actionCards}})],1),a("igt-tab",{attrs:{name:"Resources"}},[a("cq-card-selection-list",{attrs:{"current-deck":e.currentDeck,cards:e.resourceCards}})],1),a("igt-tab",{attrs:{name:"Tools"}},[a("cq-card-selection-list",{attrs:{"current-deck":e.currentDeck,cards:e.toolCards}})],1),a("igt-tab",{attrs:{name:"Monsters"}},[a("cq-card-selection-list",{attrs:{"current-deck":e.currentDeck,cards:e.monsterCards}})],1),a("igt-tab",{attrs:{name:"Curses"}},[a("cq-card-selection-list",{attrs:{"current-deck":e.currentDeck,cards:e.curseCards}})],1)],1)],1)]),a("div",{staticClass:"flex-initial"},[a("cq-deck-presets",{staticClass:"mt-12",attrs:{collection:e.collection}})],1)])],1)},Ft=[],Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tabs",class:e.headerClass},[a("ul",{staticClass:"flex flex-row"},[e._l(e.tabs,(function(t,n){return a("li",{key:"tab"+n,staticClass:"p-2 border-r-2",class:[t.isActive?"text-green-500":"text-white"]},[t.canSelect?a("a",{staticClass:"text-lg cursor-pointer",attrs:{id:t.id},on:{click:function(a){return e.selectTab(t)}}},[e._v(e._s(t.name))]):a("span",{staticClass:"text-lg"},[e._v(" "+e._s(t.name))])])})),e._t("other")],2)]),a("hr"),a("div",{staticClass:"tabs-details"},[e._t("default")],2)])},Nt=[],Wt={name:"igt-tabs",data:function(){return{tabs:[]}},props:{headerClass:{type:String,default:""}},created:function(){this.tabs=this.$children},methods:{selectTab:function(e){e.canSelect&&this.tabs.forEach((function(t){t.isActive=t.name===e.name}))}}},Ht=Wt,Vt=Object(lt["a"])(Ht,Gt,Nt,!1,null,"56edb4ae",null),Rt=Vt.exports,$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}]},[e._t("default")],2)},Ut=[],Kt={name:"igt-tab",props:{id:{required:!1},name:{required:!0},selected:{default:!1},canSelect:{default:!0}},data:function(){return{isActive:!1}},mounted:function(){this.isActive=this.selected}},Yt=Kt,Qt=Object(lt["a"])(Yt,$t,Ut,!1,null,"432a3832",null),Zt=Qt.exports,Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-4 p-4"},[a("igt-boolean-setting",{attrs:{setting:e.showUnobtainedCardsSetting}}),a("div",{staticClass:"flex flex-row"},[a("div",{staticClass:"flex flex-row flex-wrap"},e._l(e.cards,(function(t){return a("div",{key:t.amount,staticClass:"flex flex-col"},[t[1]>0||e.showUnobtainedCardsSetting.value?a("div",[a("div",{staticClass:"flex flex-row justify-between items-center m-2 text-white"},[a("button",{staticClass:"btn btn-red",attrs:{disabled:e.currentDeck.getCountForCard(t[0].id)<=0},on:{click:function(a){return e.removeCard(t[0].id)}}},[e._v(" - ")]),a("p",{staticClass:"text-lg text-center"},[e._v(" "+e._s(e.currentDeck.getCountForCard(t[0].id))+" / "+e._s(t[1])+" ")]),a("button",{staticClass:"btn btn-green",attrs:{disabled:e.currentDeck.getCountForCard(t[0].id)>=t[1]},on:{click:function(a){return e.addCard(t[0].id)}}},[e._v("+ ")])]),a("div",{attrs:{disabled:e.currentDeck.getCountForCard(t[0].id)>=t[1]},on:{click:function(a){e.addCard(t[0].id,e.currentDeck.getCountForCard(t[0].id)>=t[1])}}},[a("cq-card",{attrs:{"show-front":!0,"is-in-hand":!1,"is-disabled":t[1]<=0,card:t[0]}})],1)]):e._e()])})),0)])],1)},Jt=[],ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{staticClass:"btn btn-blue",on:{click:e.toggle}},[a("span",{staticClass:"fa text-lg m-1",class:e.classObject}),a("span",[e._v(" "+e._s(e.setting.displayName)+" ")])])])},ta=[],aa={name:"igt-boolean-setting",props:{setting:{type:Oe,required:!0}},methods:{toggle:function(){this.setting.toggle()}},computed:{classObject:function(){return{"fa-eye":this.setting.value,"text-green-500":this.setting.value,"fa-eye-slash":!this.setting.value,"text-red-500":!this.setting.value}}}},na=aa,sa=Object(lt["a"])(na,ea,ta,!1,null,"64b7a787",null),ra=sa.exports,ia={name:"cq-card-selection-list",components:{IgtBooleanSetting:ra,CqCard:gt},data:function(){return{showUnobtainedCardsSetting:et.game.features.settings.getSetting(we.ShowUnobtainedCards)}},props:{cards:{type:Array,required:!0},currentDeck:{type:Z,required:!0}},methods:{addCard:function(e,t){t||this.currentDeck.addCard(e)},emptyCurrentDeck:function(){this.emptyCurrentDeck()},removeCard:function(e){this.currentDeck.removeCard(e)}}},ca=ia,oa=Object(lt["a"])(ca,Xt,Jt,!1,null,"1dbcc316",null),la=oa.exports,ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col w-56 m-2"},[n("button",{staticClass:"btn btn-red",on:{click:e.emptyCurrentDeck}},[e._v("Empty current Deck")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selection,expression:"selection"}],staticClass:"input-primary",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selection=t.target.multiple?a:a[0]},function(t){return e.selectionChanged(t)}]}},[e._l(e.presets,(function(t,a){return n("option",{key:a,domProps:{value:a}},[e._v(" "+e._s(e.collection.deckPresets[a].displayName)+" ("+e._s(e.collection.deckPresets[a].cardCount)+") ")])})),n("option",{domProps:{value:e.presets.length}},[e._v("New Deck")])],2),n("div",{staticClass:"flex flex-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.collection.deckPresets[e.selection].displayName,expression:"collection.deckPresets[selection].displayName"}],staticClass:"w-32 input-primary w-full",domProps:{value:e.collection.deckPresets[e.selection].displayName},on:{input:function(t){t.target.composing||e.$set(e.collection.deckPresets[e.selection],"displayName",t.target.value)}}})]),n("div",{staticClass:"flex flex-row"},[n("button",{staticClass:"btn btn-green w-full",on:{click:function(t){return e.saveToPreset()}}},[e._v(" Save ")]),n("button",{staticClass:"btn btn-green",attrs:{disabled:!e.collection.deckPresets[e.selection].deckString},on:{click:function(t){return e.loadFromPreset()}}},[e._v(" Load ")])]),n("div",{staticClass:"flex flex-row"},[n("button",{staticClass:"btn btn-blue w-full",on:{click:function(t){return e.importPreset()}}},[e._v(" Import ")])]),n("div",{staticClass:"flex flex-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.collection.deckPresets[e.selection].deckString,expression:"collection.deckPresets[selection].deckString"}],staticClass:"w-full input-primary",attrs:{disabled:"disabled"},domProps:{value:e.collection.deckPresets[e.selection].deckString},on:{input:function(t){t.target.composing||e.$set(e.collection.deckPresets[e.selection],"deckString",t.target.value)}}})]),n("div",{staticClass:"flex flex-col m-1"},e._l(e.idDeck.cards,(function(t,s){return n("div",{key:s+"-"+t,staticClass:"has-tooltip"},[0!==t?n("div",[n("div",{staticClass:"flex flex-row justify-between items-center px-2"},[n("div",{staticClass:"m-2 text-white"},[e._v(e._s(e.CardRepository.getCard(s).title)+" ("+e._s(t)+")")]),n("img",{staticClass:"w-8 h-8 inline",attrs:{title:e.CardRepository.getCard(s).description,src:a("6863")("./"+e.CardRepository.getCard(s).image)}})]),n("cq-card",{staticClass:"tooltip",attrs:{card:e.CardRepository.getCard(s),"is-in-hand":!1,"can-hover":!1}})],1):e._e()])})),0)])},da=[],va={name:"cq-deck-presets",components:{CqCard:gt},data:function(){return{selection:0,CardRepository:fe}},props:{collection:{type:Ie,required:!0}},computed:{presets:function(){return this.collection.deckPresets},idDeck:function(){return fe.getIdDeckFromString(this.collection.deckPresets[this.selection].deckString)}},methods:{emptyCurrentDeck:function(){this.collection.emptyCurrentDeck()},saveToPreset:function(){this.collection.saveToPreset(this.selection)},loadFromPreset:function(){this.collection.loadFromPreset(this.selection)},exportPreset:function(){alert(this.collection.deckPresets[this.selection].deckString)},importPreset:function(){var e=prompt("Import deck code");e&&(this.collection.deckPresets[this.selection].deckString=e)},selectionChanged:function(){this.selection>=this.presets.length&&(this.collection.deckPresets.push(),this.collection.deckPresets.splice(this.selection,1,new Me("Deck ".concat(this.selection),"")))}}},ha=va,fa=Object(lt["a"])(ha,ua,da,!1,null,"13c46f18",null),ga=fa.exports,pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-4"},[n("div",{staticClass:"flex flex-row flex-wrap"},e._l(e.buyablePacks,(function(t){return n("div",{key:t.id,staticClass:"has-tooltip"},[n("button",{staticClass:"btn btn-blue flex flex-col justify-between items-center",attrs:{disabled:!e.canAfford(t)},on:{click:function(a){return e.buyPack(t.id)}}},[n("span",[e._v(e._s(t.id))]),n("span",{staticClass:"flex flex-row mx-2"},[e._v(" "+e._s(-t.cost.amount)+" "),n("img",{staticClass:"mx-1 h-6 w-6",attrs:{src:a("fe61"),alt:"coins.svg"}})])]),n("cq-card-pack-preview",{staticClass:"tooltip mt",attrs:{"pack-id":t.id}})],1)})),0)])},ma=[],ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-cq-charcoal p-4 shadow-lg"},[a("div",{staticClass:"text-2xl font-semibold text-white"},[e._v("Possible Rewards")]),a("hr"),a("div",{staticClass:"flex flex-col"},e._l(e.rewardCards,(function(t,n){return a("p",{key:t.id+"-"+n,staticClass:"flex flex-row text-white"},[e._v(" "+e._s(t.title)+" ")])})),0)])},ba=[],wa={name:"cq-card-pack-preview",data:function(){return{cardCollection:et.game.features.collection}},props:{packId:{type:String,required:!0}},computed:{pack:function(){return this.cardCollection.getCardPack(this.packId)},outcomes:function(){return this.pack.outcomes},rewardCards:function(){return this.outcomes.map((function(e){return fe.getCard(e.item)}))}}},ka=wa,Ca=Object(lt["a"])(ka,ya,ba,!1,null,"4cdc6b4e",null),xa=Ca.exports,Sa={name:"cq-pack-shop",components:{CqCardPackPreview:xa},props:{collection:{type:Ie,required:!0},packs:{type:Array,required:!0}},computed:{buyablePacks:function(){return this.packs.filter((function(e){return e.buyable}))}},methods:{buyPack:function(e){this.collection.buyCardPack(e)},canAfford:function(e){return this.collection.canBuyCardPack(e.id)}}},_a=Sa,Oa=Object(lt["a"])(_a,pa,ma,!1,null,"6e0f0f7e",null),Aa=Oa.exports,ja={name:"cq-card-collection",components:{CqPackShop:Aa,CqDeckPresets:ga,CqCardSelectionList:la,IgtTab:Zt,IgtTabs:Rt},data:function(){return{collection:et.game.features.collection,showUnobtainedCardsSetting:et.game.features.settings.getSetting(we.ShowUnobtainedCards)}},computed:{hasEnoughCards:function(){return this.collection.hasEnoughCards()},deckIsValid:function(){return this.collection.currentDeckIsValid()},cards:function(){return this.collection.cards},displayableCards:function(){return this.collection.getCardsWithAmount()},actionCards:function(){return this.collection.getCardsWithAmountByType(v.Action)},resourceCards:function(){return this.collection.getCardsWithAmountByType(v.Resource)},toolCards:function(){return this.collection.getCardsWithAmountByType(v.Tool)},monsterCards:function(){return this.collection.getCardsWithAmountByType(v.Monster)},curseCards:function(){return this.collection.getCardsWithAmountByType(v.Curse)},currentDeck:function(){return this.collection.currentDeck}},methods:{emptyCurrentDeck:function(){this.collection.emptyCurrentDeck()}}},Pa=ja,Ta=Object(lt["a"])(Pa,Bt,Ft,!1,null,"51600258",null),Da=Ta.exports,La=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"feature-tab"},[n("cq-super-powers",{attrs:{powers:e.superPowers}}),e.hasEnoughCards?e._e():n("p",{staticClass:"text-2xl font-semibold text-red-400"},[e._v("You need at least "+e._s(e.game.features.collection.MIN_DECK_SIZE)+" cards in your deck to start a level")]),e.deckIsValid?e._e():n("p",{staticClass:"text-2xl font-semibold text-red-400"},[e._v(" Your current deck is invalid. Have you imported a deck with cards you do not have? ")]),n("div",{staticClass:"flex flex-row flex-wrap"},e._l(e.availableLevels,(function(t){return n("div",{key:t.id,staticClass:"flex flex-col m-2 p-4 bg-cq-brown w-72"},[n("button",{staticClass:"btn btn-blue flex flex-row justify-between items-center has-tooltip",attrs:{disabled:!e.canStartAdventure},on:{click:function(a){return e.goOnAnAdventure(t.id)}}},[n("span",[e._v(" "+e._s(t.name)+" ")]),n("span",{staticClass:"flex flex-row",class:{"text-red-900":!e.canAffordPowers}},[e._v(" ("+e._s(-e.totalCosts)+" "),n("img",{staticClass:"h-6 w-6",attrs:{src:a("fe61"),alt:"coins.svg"}}),e._v(" ) ")])]),n("div",{staticClass:"flex flex-row px-4 py-2 items-center"},[n("div",{staticClass:"has-tooltip"},[n("img",{staticClass:"h-8 w-8",attrs:{src:a("7d77"),alt:"draw.svg"}}),n("cq-card-pack-preview",{staticClass:"tooltip",attrs:{"pack-id":t.rewardPack}})],1),n("span",{staticClass:"ml-4"},[e._v(e._s(t.moneyReward))]),n("img",{staticClass:"h-8 w-8",attrs:{src:a("fe61"),alt:"coins.svg"}})]),n("p",{staticClass:"italic"},[e._v(e._s(t.description))]),n("cq-level-progress",{attrs:{"show-current-turn":!1,"current-turn":0,level:t}})],1)})),0)],1)},Ma=[],Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"text-2xl font-semibold text-white"},[e._v("Starting stats")]),a("p",{staticClass:"text-md text-white"},[e._v("Spend your money on starting bonuses")]),a("hr"),a("div",{staticClass:"flex flex-row flex-wrap justify-center"},[a("cq-super-power",{attrs:{power:e.powers.axe}}),a("cq-super-power",{attrs:{power:e.powers.pickaxe}}),a("cq-super-power",{attrs:{power:e.powers.scythe}}),a("cq-super-power",{attrs:{power:e.powers.startingCards}}),a("cq-super-power",{attrs:{power:e.powers.health}})],1)])},qa=[],za=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-1"},[n("div",{staticClass:"flex flex-col items-center m-2"},[n("p",{staticClass:"text-2xl text-center mx-2 text-white"},[e._v(" "+e._s(e.power.valueText)+" "+e._s(e.power.description)+" ")]),n("p",{staticClass:"text-sm text-center mx-2"}),n("div",{staticClass:"flex flex-row items-center",attrs:{title:"Activating this power costs "+e.power.cost+" coins"}},[n("p",{staticClass:"text-2xl p-2 text-white"},[e._v(e._s(e.power.cost))]),n("img",{staticClass:"h-6 w-6",attrs:{src:a("fe61"),alt:"coins.svg"}})]),n("div",{staticClass:"flex flex-row"},[n("button",{staticClass:"btn btn-red",attrs:{disabled:e.power.level<=0},on:{click:function(t){return e.down()}}},[e._v(" - ")]),n("button",{staticClass:"btn btn-green",attrs:{disabled:e.power.level>=e.power.maxLevel},on:{click:function(t){return e.up()}}},[e._v(" + ")])])])])},Ea=[],Ba={name:"cq-super-power",props:{power:{type:Ne,required:!0}},methods:{down:function(){this.power.level--},up:function(){this.power.level++}}},Fa=Ba,Ga=Object(lt["a"])(Fa,za,Ea,!1,null,"90bdb58a",null),Na=Ga.exports,Wa={name:"cq-super-powers",components:{CqSuperPower:Na},props:{powers:{type:We,required:!0}},computed:{totalCosts:function(){return this.powers.getTotalCosts()}}},Ha=Wa,Va=Object(lt["a"])(Ha,Ia,qa,!1,null,"2598b60c",null),Ra=Va.exports,$a={name:"cq-level-selection",components:{CqCardPackPreview:xa,CqSuperPowers:Ra,CqLevelProgress:At},data:function(){return{game:et.game}},props:{levels:{type:Array,required:!0}},methods:{goOnAnAdventure:function(e){this.game.goOnAnAdventure(e)}},computed:{availableLevels:function(){return this.levels.filter((function(e){return e.canAccess()}))},hasEnoughCards:function(){return this.game.hasEnoughCards()},deckIsValid:function(){return this.game.deckIsValid()},totalCosts:function(){return this.superPowers.getTotalCosts()},canAffordPowers:function(){return this.game.features.wallet.hasCurrency(new H(this.totalCosts,u.Money))},canStartAdventure:function(){return this.game.canStartAdventure()},superPowers:function(){return this.game.features.superPowers}}},Ua=$a,Ka=Object(lt["a"])(Ua,La,Ma,!1,null,"9ee95942",null),Ya=Ka.exports,Qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("notificationGroup",{attrs:{group:"top-right"}},[a("div",{staticClass:"fixed inset-0 flex px-4 py-6 pointer-events-none p-6 items-start justify-end"},[a("div",{staticClass:"max-w-sm w-full"},[a("notification",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.notifications;return e._l(n,(function(t){return a("div",{key:t.id,staticClass:"flex max-w-sm w-full mx-auto bg-white shadow-md rounded-lg overflow-hidden mt-4"},[a("div",{staticClass:"flex justify-center items-center w-12 bg-green-500"},[a("svg",{staticClass:"h-6 w-6 fill-current text-white",attrs:{viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"}})])]),a("div",{staticClass:"-mx-3 py-2 px-4"},[a("div",{staticClass:"mx-3"},[a("span",{staticClass:"text-green-500 font-semibold"},[e._v(e._s(t.title))]),a("p",{staticClass:"text-gray-600 text-sm"},[e._v(e._s(t.text))])])])])}))}}])})],1)])])},Za=[],Xa={name:"igt-notifications"},Ja=Xa,en=Object(lt["a"])(Ja,Qa,Za,!1,null,"6c9e3f53",null),tn=en.exports,an=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"feature-tab"},[n("p",{staticClass:"text-2xl font-semibold text-white"},[e._v("Achievements")]),n("hr"),n("div",{staticClass:"flex flex-row flex-wrap"},e._l(e.achievements,(function(t){return n("div",{key:t.id,staticClass:"w-72"},[n("div",{staticClass:"flex flex-col border-2 m-2 p-2 h-72 justify-between shadow-md",class:{"bg-gray-400":!t.unlocked,"bg-green-500":t.unlocked}},[n("div",[n("p",{staticClass:"text-lg font-semibold"},[e._v(" "+e._s(t.unlocked?t.title:"???"))]),n("hr"),n("br"),n("p",{staticClass:"italic"},[e._v(" "+e._s(t.description))])]),n("img",{staticClass:"card-image",class:{"filter-grayscale":!t.unlocked},attrs:{src:a("1771")("./"+t.image),alt:t.image}})])])})),0)])},nn=[],sn={name:"igt-achievements",props:{achievementsFeature:{type:Ye,required:!0}},computed:{achievements:function(){return this.achievementsFeature.list}},mounted:function(){var e=this;this.achievementsFeature.onUnlock.subscribe((function(t){e.$notify({title:"Achievement get: "+t.title,text:t.description,type:"success",group:"top-right"},8e3)}))}},rn=sn,cn=Object(lt["a"])(rn,an,nn,!1,null,"9a3023fe",null),on=cn.exports,ln=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feature-tab"},[a("div",{staticClass:"flex flex-row"},[a("button",{staticClass:"btn btn-red",on:{click:e.resetSave}},[e._v("Reset save")]),a("button",{staticClass:"btn btn-blue",on:{click:e.save}},[e._v("Save")])]),a("igt-boolean-setting",{attrs:{setting:e.saveSetting}})],1)},un=[],dn={name:"igt-settings",components:{IgtBooleanSetting:ra},data:function(){return{game:et.game}},props:{settings:{type:Ae,required:!0}},methods:{resetSave:function(){confirm("Are you sure you want to delete your save? This does not provide you with bonuses")&&(this.game.deleteSave(),location.reload())},save:function(){this.game.save()}},computed:{saveSetting:function(){return this.settings.getSetting(we.ShowSaveMessage)}}},vn=dn,hn=Object(lt["a"])(vn,ln,un,!1,null,"0ecfcf36",null),fn=hn.exports,gn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container w-min mx-auto p-4 bg-cq-slate shadow-xl"},[a("div",{staticClass:"modal-header"},[e._t("header")],2),a("div",{staticClass:"modal-body"},[e._t("body",[a("p",{staticClass:"text-lg font-semibold text-white"},[e._v("The following cards are added to your collection")]),a("div",{staticClass:"flex flex-row w-full p-4"},e._l(e.cards,(function(t,n){return a("div",{key:"hand-"+t.id+"-"+n},[a("div",{staticClass:"memory-tile",class:e.isOpen[n]?"flip-container":"flip-container flipped"},[a("div",{staticClass:"flipper"},[a("div",{staticClass:"front"},[a("cq-card",{attrs:{"is-in-hand":!1,"is-disabled":!1,card:t,"can-click":!1}})],1),a("div",{staticClass:"back"},[a("div",{staticClass:"w-48 h-72 p-2 m-2 border-4"})])])])])})),0)])],2),a("div",{staticClass:"modal-footer"},[e._t("footer",[a("button",{staticClass:"btn btn-green",on:{click:function(t){return e.$emit("close")}}},[e._v(" Close ")])])],2)])])])])},pn=[],mn={name:"igt-modal",components:{CqCard:gt},data:function(){return{isOpen:[]}},props:{cards:{type:Array,required:!0}},mounted:function(){for(var e=this,t=0;t<this.cards.length;t++)setTimeout((function(){e.isOpen.push(!0)}),650*t)}},yn=mn,bn=(a("2043"),Object(lt["a"])(yn,gn,pn,!1,null,"e424259c",null)),wn=bn.exports,kn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Cn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feature-tab"},[a("p",{staticClass:"text-2xl font-semibold"},[e._v("How to play")]),a("hr"),a("br"),a("div",{staticClass:"p-4"},[a("p",{staticClass:"text-2xl font-semibold"},[e._v("Introduction")]),a("p",{staticClass:"text-lg"},[e._v("Card Quest is a Card Collection Game!")]),a("p",{staticClass:"text-lg"},[e._v("Collect Cards, build your Deck, and go on Adventures!")]),a("p",{staticClass:"text-lg"},[e._v("In this game you don't play against another player, or an AI. You play against the Level.")]),a("p",{staticClass:"text-lg"},[e._v("The Level plays cards at certain turns. These cards are known beforehand so you can build your deck around it.")]),a("br"),a("p",{staticClass:"text-2xl font-semibold"},[e._v("Adventure")]),a("p",{staticClass:"text-lg"},[e._v("Take your Deck and go on an Adventure.")]),a("p",{staticClass:"text-lg"},[e._v("Battle your way through different Levels and defeat your enemies!")]),a("br"),a("p",{staticClass:"text-lg"},[e._v("Whenever you perform an Action, the turn increases.")]),a("p",{staticClass:"text-lg"},[e._v("The Level will Play certain Cards at certain turns")]),a("br"),a("p",{staticClass:"text-lg"},[e._v("You can Play a card, to place it on the Field.")]),a("p",{staticClass:"text-lg"},[e._v("Cards in the Field can be Tapped to interact with them.")]),a("p",{staticClass:"text-lg"},[e._v("Cards can have costs to Play them, or Resources when they leave the Field (or both).")]),a("p",{staticClass:"text-lg"},[e._v("You can use these Resources to upgrade your Tools and Weapons, or Play Action cards!")]),a("br"),a("p",{staticClass:"text-lg"},[e._v("When you complete a Level, you gain some Cards to further improve your deck!")]),a("p",{staticClass:"text-lg"},[e._v("More difficult Levels award rarer and better Cards.")]),a("br"),a("p",{staticClass:"text-2xl font-semibold"},[e._v("Card Collection")]),a("p",{staticClass:"text-lg"},[e._v("Here you can view your collected Cards. Build your Decks and save them using the Deck Presets.")]),a("p",{staticClass:"text-lg"},[e._v("The max amount of a single card is 10. You need at least 15 cards in your deck to start a level.")]),a("p",{staticClass:"text-lg"},[e._v("You can share your Decks with other players by importing and exporting their codes!")]),a("br"),a("p",{staticClass:"text-2xl font-semibold"},[e._v("Achievements")]),a("p",{staticClass:"text-lg"},[e._v("If you've done impressive things, they will show up here.")]),a("br"),a("p",{staticClass:"text-2xl font-semibold"},[e._v("Quick tips")]),a("p",{staticClass:"text-lg"},[e._v("Check the settings for things you want to toggle.")]),a("p",{staticClass:"text-lg"},[e._v("Preview the Adventure before taking it on to see which cards will be played.")]),a("p",{staticClass:"text-lg"},[e._v("Spend your money on starting stats to skip the early game (if you can afford it).")]),a("br"),a("p",{staticClass:"text-2xl font-semibold"},[e._v("Hotkeys")]),a("p",{staticClass:"text-lg"},[e._v("Shift + Click Cards to discard them")]),a("p",{staticClass:"text-lg"},[e._v("1-9 to Play Cards")]),a("p",{staticClass:"text-lg"},[e._v("Ctrl + 1-9 to Tap Cards")]),a("p",{staticClass:"text-lg"},[e._v("Shift + 1-9 to Discard Cards")]),a("p",{staticClass:"text-lg"},[e._v("D to Draw")]),a("p",{staticClass:"text-lg"},[e._v("W to Wait a turn")]),a("p",{staticClass:"text-lg"},[e._v("Q to instantly forfeit")])])])}],xn={name:"cq-how-to-play"},Sn=xn,_n=(a("ce36"),Object(lt["a"])(Sn,kn,Cn,!1,null,"395ade17",null)),On=_n.exports,An=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feature-tab"},[e.canAccess?a("div",[a("p",{staticClass:"text-2xl font-semibold text-white"},[e._v("Automation - BETA")]),a("hr"),a("br"),a("p",{staticClass:"text-lg text-white"},[e._v("With automation you can automatically play and retry levels.")]),a("p",{staticClass:"text-lg text-white"},[e._v("The 'AI' is not very smart, it can get stuck, and it won't play optimally, so use at your own risk.")]),e._m(0),a("br"),a("select",{directives:[{name:"model",rawName:"v-model",value:e.automation.selectedLevel,expression:"automation.selectedLevel"}],staticClass:"input-primary",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.automation,"selectedLevel",t.target.multiple?a:a[0])}}},e._l(e.levels,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),0),a("select",{directives:[{name:"model",rawName:"v-model",value:e.automation.selectedStrategy,expression:"automation.selectedStrategy"}],staticClass:"input-primary",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.automation,"selectedStrategy",t.target.multiple?a:a[0])}}},e._l(e.strategies,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])})),0),a("p",{staticClass:"text-lg text-white"},[e._v(" Before you activate Automation, please make sure your starting bonuses are set correctly! ")]),a("div",{staticClass:"flex flex-row p-4 items-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.automation.isActive,expression:"automation.isActive"}],staticClass:"input-primary w-4 h-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.automation.isActive)?e._i(e.automation.isActive,null)>-1:e.automation.isActive},on:{change:function(t){var a=e.automation.isActive,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);n.checked?i<0&&e.$set(e.automation,"isActive",a.concat([r])):i>-1&&e.$set(e.automation,"isActive",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.automation,"isActive",s)}}}),a("p",{staticClass:"text-lg font-semibold ml-2",class:e.automation.isActive?"text-green-500":"text-red-500"},[e._v(" Automation "+e._s(e.automation.isActive?"Active":"Inactive"))])]),a("div",{staticClass:"flex flex-col"},e._l(e.strategies,(function(t){return a("div",{key:t.id},[a("p",{staticClass:"text-white"},[e._v(e._s(t.title))]),a("div",{staticClass:"text-white",domProps:{innerHTML:e._s(t.description)}}),a("hr")])})),0),a("br")]):a("div",[a("p",{staticClass:"text-lg text-white"},[e._v("Defeat The Wizard Level to unlock automation")])])])},jn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-lg text-white"},[e._v("Feel free to add your own algorithm on "),a("a",{staticClass:"text-blue-500",attrs:{target:"_blank",href:"https://github.com/123ishaTest/CardQuest/blob/master/src/card-quest/features/automation"}},[e._v(" GitHub ")])])}],Pn={name:"cq-automation",data:function(){return{levels:ke.getAllLevels()}},props:{automation:{type:Xe,default:0}},computed:{canAccess:function(){return this.automation.requirement.isCompleted},strategies:function(){return this.automation.strategies}}},Tn=Pn,Dn=Object(lt["a"])(Tn,An,jn,!1,null,"73b79b9a",null),Ln=Dn.exports,Mn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feature-tab"},[a("p",{staticClass:"text-2xl text-white font-semibold"},[e._v("Level Editor")]),a("hr"),a("p",{staticClass:"text-2xl text-white"},[e._v("Create custom levels to challenge your friends!")]),a("div",{staticClass:"flex flex-col m-4 p-4"},[e._m(0),e._l(e.currentCards,(function(t,n){return a("div",{key:"entry-"+n,staticClass:"flex flex-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t[0],expression:"entry[0]"}],staticClass:"input-primary",attrs:{type:"text"},domProps:{value:t[0]},on:{input:function(a){a.target.composing||e.$set(t,0,a.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t[1],expression:"entry[1]"}],staticClass:"input-primary",on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,1,a.target.multiple?n:n[0])}}},[a("option",{domProps:{value:-1}},[e._v(" None ")]),e._l(e.availableCards,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])}))],2)])}))],2),a("button",{staticClass:"btn btn-green",on:{click:e.goOnCustomAdventure}},[e._v("Play custom level")]),a("button",{staticClass:"btn btn-blue",on:{click:e.exportLevel}},[e._v("Export Level")]),a("button",{staticClass:"btn btn-green",on:{click:e.importLevel}},[e._v("Import Level")]),a("button",{staticClass:"btn btn-red",on:{click:e.resetToDefault}},[e._v("Reset to default")])])},In=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex flex-row flex-initial justify-between"},[a("p",{staticClass:"text-2xl font-semibold text-white"},[e._v("Turn")])])}],qn={name:"cq-level-editor",props:{editor:{type:Je,required:!0}},methods:{goOnCustomAdventure:function(){var e=this.editor.getLevel();e&&(et.game.goOnCustomAdventure(e),document.getElementById("adventure-tab-button").click())},exportLevel:function(){alert(this.editor.toLevelString())},resetToDefault:function(){this.editor.resetToDefault()},importLevel:function(){var e=prompt("Enter the level code");e&&this.editor.fromLevelString(e)}},computed:{availableCards:function(){return fe.getAllCards().filter((function(e){return e.cardType===v.Monster||e.cardType===v.Curse}))},currentCards:function(){return this.editor.currentCards}}},zn=qn,En=Object(lt["a"])(zn,Mn,In,!1,null,"39c3bd8b",null),Bn=En.exports,Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container w-96 mx-auto p-4 bg-cq-slate shadow-xl"},[a("div",{staticClass:"modal-header"},[e._t("header")],2),a("div",{staticClass:"modal-body"},[e._t("body",[a("p",{staticClass:"text-lg font-semibold text-white"},[e._v("You were defeated in battle. Better luck next time")])])],2),a("div",{staticClass:"modal-footer"},[e._t("footer",[a("button",{staticClass:"btn btn-green",on:{click:function(t){return e.$emit("close")}}},[e._v(" Close ")])])],2)])])])])},Gn=[],Nn={name:"cq-lose-modal"},Wn=Nn,Hn=(a("e2ac"),Object(lt["a"])(Wn,Fn,Gn,!1,null,"7b5e0c4a",null)),Vn=Hn.exports,Rn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feature-tab"},[a("p",{staticClass:"text-2xl font-semibold"},[e._v("Credits")]),a("hr"),a("br"),a("div",{staticClass:"p-4"},[a("p",{staticClass:"text-lg"},[e._v("This game was Developed in 7 days by "),a("a",{attrs:{href:"http://github.com/ishadijcks/",target:"_blank"}},[e._v("Isha")]),e._v(" for the "),a("a",{attrs:{href:"https://incremental_games.reddit.com/",target:"_blank"}},[e._v("r/incremental_games")]),e._v(" jam of 2021.")]),a("p",{staticClass:"text-lg"},[e._v("You can view the Source Code on "),a("a",{attrs:{href:"https://github.com/123ishaTest/CardQuest",target:"_blank"}},[e._v("GitHub")]),e._v(".")]),a("p",{staticClass:"text-lg"},[e._v("It uses the "),a("a",{attrs:{href:"https://github.com/123ishaTest/incremental-game-template",target:"_blank"}},[e._v("Incremental Game Template")]),e._v(".")]),a("p",{staticClass:"text-lg"},[e._v("I realize it isn't the most traditional incremental game, but it should still be enjoyable :)")]),a("br"),a("br"),a("p",{staticClass:"text-lg"},[e._v("Thank you for playing, I hope you liked it.")])]),a("div",{staticClass:"p-4"},[a("p",{staticClass:"text-lg"},[e._v("Artwork taken from "),a("a",{attrs:{href:"https://game-icons.net/",target:"_blank"}},[e._v("game-icons.net")])])])])}],Un={name:"cq-credits"},Kn=Un,Yn=(a("e842"),Object(lt["a"])(Kn,Rn,$n,!1,null,"47897829",null)),Qn=Yn.exports,Zn={components:{CqCredits:Qn,CqLoseModal:Vn,CqLevelEditor:Bn,CqAutomation:Ln,CqHowToPlay:On,IgtModal:wn,IgtSettings:fn,IgtTabs:Rt,IgtTab:Zt,IgtAchievements:on,IgtNotifications:tn,CqLevelSelection:Ya,CqCardCollection:Da,CqAdventure:Et},data:function(){return{game:et.game,gainedCards:[],showModal:!1,showLoseModal:!1,LevelRepository:ke}},methods:{pause:function(){this.game.pause()},start:function(){this.game.start()},resume:function(){this.game.resume()},stop:function(){this.game.stop()}},computed:{state:function(){return this.game.state},allLevels:function(){return ke.getAllLevels()}},mounted:function(){var e=this;this.game.onSave.subscribe((function(){e.game.features.settings.getSetting(we.ShowSaveMessage).value&&e.$notify({title:"Game saved!",type:"success",group:"top-right"},4e3)})),this.game.features.collection.onCardsGain.subscribe((function(t){e.gainedCards=t,e.showModal=!0})),this.game.onLose.subscribe((function(){e.showLoseModal=!0}))}},Xn=Zn,Jn=Object(lt["a"])(Xn,r,i,!1,null,null,null),es=Jn.exports,ts=a("5008");a("fb6a"),a("5319");s["a"].filter("numberFormat",(function(e){return void 0==e?"":Math.floor(e)})),s["a"].filter("humanizeString",(function(e){return void 0==e?"":(e=e.charAt(0).toUpperCase()+e.slice(1),e.replace("_"," ").replace("-"," "),e)}));a("a766");s["a"].config.productionTip=!1,s["a"].use(ts["a"]),s["a"].config.productionTip=!1,window.onload=function(){et.start(),console.log("Exposing App to console"),window.App=et,console.log("Launched"),new s["a"]({render:function(e){return e(es)}}).$mount("#app")}},ce36:function(e,t,a){"use strict";a("f03e")},ce81:function(e,t,a){e.exports=a.p+"img/shield-cracked.e069054d.svg"},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},cf15:function(e,t,a){},d0d2:function(e,t,a){e.exports=a.p+"img/souls.06dc216d.svg"},d167:function(e,t,a){e.exports=a.p+"img/strike-yellow.cb4844fe.svg"},d5ac:function(e,t,a){e.exports=a.p+"img/heart.107d5fc1.svg"},dcc5:function(e,t,a){e.exports=a.p+"img/chicken.61a63c33.svg"},de9a:function(e,t,a){e.exports=a.p+"img/hatchet-silver.e566235f.svg"},e2ac:function(e,t,a){"use strict";a("45a2")},e7a0:function(e,t,a){e.exports=a.p+"img/sword.534348cf.svg"},e842:function(e,t,a){"use strict";a("b2ba")},e947:function(e,t,a){e.exports=a.p+"img/clock.aa736eff.svg"},eca3:function(e,t,a){var n={"./pickaxe-bronze.svg":"8e27","./pickaxe-gold.svg":"a164","./pickaxe-silver.svg":"59b6","./pickaxe-stone.svg":"59b5"};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="eca3"},f03e:function(e,t,a){},f23d:function(e,t,a){e.exports=a.p+"img/default.2e9f2e54.svg"},fa78:function(e,t,a){e.exports=a.p+"img/spider-small.3254594a.svg"},fe61:function(e,t,a){e.exports=a.p+"img/coins.91642bb9.svg"},feae:function(e,t,a){e.exports=a.p+"img/scythe-gold.fecfe7c9.svg"}});
//# sourceMappingURL=app.db5de01f.js.map